/**
 * lilybook - lilybook Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.admin","app.composer","app.composition","app.dashboard","app.data","app.home","app.layout","app.splash"])}(),function(){"use strict";function t(t){t.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"$ctrl",authentication:!0,admin:!0}),t.state("admin.composers",{url:"/composers",templateUrl:"app/admin/composers/admin-composers.html",controller:"AdminComposersController",controllerAs:"$ctrl",authentication:!0,admin:!0}),t.state("admin.compositions",{url:"/compositions",templateUrl:"app/admin/compositions/admin-compositions.html",controller:"AdminCompositionsController",controllerAs:"$ctrl",authentication:!0,admin:!0}),t.state("admin.compositions-edit",{url:"/compositions/:vanity",templateUrl:"app/admin/compositions/admin-compositions-edit.html",controller:"AdminCompositionsEditController",controllerAs:"$ctrl",authentication:!0,admin:!0}),t.state("admin.forms",{url:"/forms",templateUrl:"app/admin/forms/admin-forms.html",controller:"AdminFormsController",controllerAs:"$ctrl",authentication:!0,admin:!0})}angular.module("app.admin",["app.core"]),angular.module("app.admin").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";function t(t){t.state("composer",{url:"/composer/:vanity",templateUrl:"app/composer/composer.html",controller:"ComposerController",controllerAs:"$ctrl",resolve:{composer:o}})}function o(t,o){return o.findById({id:t.vanity}).$promise}angular.module("app.composer",["app.core"]),angular.module("app.composer").config(t),t.$inject=["$stateProvider"],o.$inject=["$stateParams","Composer"]}(),function(){"use strict";function t(t){t.state("composition",{url:"/composition/:id",templateUrl:"app/composition/composition.html",controller:"CompositionController",controllerAs:"$ctrl",resolve:{composition:o}}),t.state("composition.sheet",{url:"/sheet",templateUrl:"app/composition/composition-sheet.html",controller:"CompositionSheetController",controllerAs:"$ctrl"}),t.state("composition.qa",{url:"/qa",templateUrl:"app/composition/composition-qa.html",controller:"CompositionQAController",controllerAs:"$ctrl"})}function o(t,o,e,i){return t.all({composition:e.findById({id:o.id}).$promise,composer:e.composer({id:o.id}).$promise,keys:i.getKeys(),forms:i.getForms(),abrsms:i.getABRSMs(),rcms:i.getRCMs(),henles:i.getHenles()}).then(function(t){var o=t.composition;return o.composer=t.composer,o.key=t.keys.filter(function(t){return t.id===o.key})[0],o.form=t.forms.filter(function(t){return t.id===o.form})[0],o.abrsm=t.abrsms.filter(function(t){return t.id===o.abrsm})[0],o.rcm=t.rcms.filter(function(t){return t.id===o.rcm})[0],o.henle=t.henles.filter(function(t){return t.id===o.henle})[0],o})}angular.module("app.composition",["app.core","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","info.vietnamcode.nampnq.videogular.plugins.youtube"]),angular.module("app.composition").config(t),t.$inject=["$stateProvider"],o.$inject=["$q","$stateParams","Composition","definitionService"]}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","ngMessages","ngMaterial","blocks.exception","blocks.logger","blocks.router","ui.router"])}(),function(){"use strict";angular.module("app.dashboard",["app.core","app.widgets"])}(),function(t,o,e){"use strict";function i(t){var o=t.match(/^(?:https?:)?\/\/([^\/]+)/);return o?o[1]:null}var n="//api.lilybook.com/api",r="authorization",s=i(n)||location.host,l=o.module("app.data",["ngResource"]);l.factory("Composer",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Composers/:id",{id:"@id"},{prototype$__get__compositions:{isArray:!0,url:n+"/Composers/:id/compositions",method:"GET"},prototype$__count__compositions:{url:n+"/Composers/:id/compositions/count",method:"GET"},create:{url:n+"/Composers",method:"POST"},createMany:{isArray:!0,url:n+"/Composers",method:"POST"},upsert:{url:n+"/Composers",method:"PUT"},exists:{url:n+"/Composers/:id/exists",method:"GET"},findById:{url:n+"/Composers/:id",method:"GET"},find:{isArray:!0,url:n+"/Composers",method:"GET"},findOne:{url:n+"/Composers/findOne",method:"GET"},deleteById:{url:n+"/Composers/:id",method:"DELETE"},prototype$updateAttributes:{url:n+"/Composers/:id",method:"PUT"},"::get::Composition::composer":{url:n+"/Compositions/:id/composer",method:"GET"}});return i.updateOrCreate=i.upsert,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Composer",i.compositions=function(){var t=e.get("Composition"),o=t["::get::Composer::compositions"];return o.apply(i,arguments)},i.compositions.count=function(){var t=e.get("Composition"),o=t["::count::Composer::compositions"];return o.apply(i,arguments)},i}]),l.factory("Composition",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Compositions/:id",{id:"@id"},{prototype$__get__composer:{url:n+"/Compositions/:id/composer",method:"GET"},create:{url:n+"/Compositions",method:"POST"},createMany:{isArray:!0,url:n+"/Compositions",method:"POST"},upsert:{url:n+"/Compositions",method:"PUT"},exists:{url:n+"/Compositions/:id/exists",method:"GET"},findById:{url:n+"/Compositions/:id",method:"GET"},find:{isArray:!0,url:n+"/Compositions",method:"GET"},findOne:{url:n+"/Compositions/findOne",method:"GET"},deleteById:{url:n+"/Compositions/:id",method:"DELETE"},count:{url:n+"/Compositions/count",method:"GET"},prototype$updateAttributes:{url:n+"/Compositions/:id",method:"PUT"},"::get::Composer::compositions":{isArray:!0,url:n+"/Composers/:id/compositions",method:"GET"},"::count::Composer::compositions":{url:n+"/Composers/:id/compositions/count",method:"GET"}});return i.updateOrCreate=i.upsert,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Composition",i.composer=function(){var t=e.get("Composer"),o=t["::get::Composition::composer"];return o.apply(i,arguments)},i}]),l.factory("Account",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Accounts/:id",{id:"@id"},{prototype$__findById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"GET"},prototype$__destroyById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"DELETE"},prototype$__updateById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"PUT"},prototype$__get__playlists:{isArray:!0,url:n+"/Accounts/:id/playlists",method:"GET"},prototype$__create__playlists:{url:n+"/Accounts/:id/playlists",method:"POST"},prototype$__count__playlists:{url:n+"/Accounts/:id/playlists/count",method:"GET"},findById:{url:n+"/Accounts/:id",method:"GET"},login:{params:{include:"user"},interceptor:{response:function(t){var e=t.data;return o.setUser(e.id,e.userId,e.user),o.rememberMe=t.config.params.rememberMe!==!1,o.save(),t.resource}},url:n+"/Accounts/login",method:"POST"},logout:{interceptor:{response:function(t){return o.clearUser(),o.clearStorage(),t.resource}},url:n+"/Accounts/logout",method:"POST"},confirm:{url:n+"/Accounts/confirm",method:"GET"},resetPassword:{url:n+"/Accounts/reset",method:"POST"},getCurrent:{url:n+"/Accounts/:id",method:"GET",params:{id:function(){var t=o.currentUserId;return null==t&&(t="__anonymous__"),t}},interceptor:{response:function(t){return o.currentUserData=t.data,t.resource}},__isGetCurrentUser__:!0}});return i.getCachedCurrent=function(){var t=o.currentUserData;return t?new i(t):null},i.isAuthenticated=function(){return null!=this.getCurrentId()},i.getCurrentId=function(){return o.currentUserId},i.modelName="Account",i.playlists=function(){var t=e.get("Playlist"),o=t["::get::Account::playlists"];return o.apply(i,arguments)},i.playlists.count=function(){var t=e.get("Playlist"),o=t["::count::Account::playlists"];return o.apply(i,arguments)},i.playlists.create=function(){var t=e.get("Playlist"),o=t["::create::Account::playlists"];return o.apply(i,arguments)},i.playlists.createMany=function(){var t=e.get("Playlist"),o=t["::createMany::Account::playlists"];return o.apply(i,arguments)},i.playlists.destroyById=function(){var t=e.get("Playlist"),o=t["::destroyById::Account::playlists"];return o.apply(i,arguments)},i.playlists.findById=function(){var t=e.get("Playlist"),o=t["::findById::Account::playlists"];return o.apply(i,arguments)},i.playlists.updateById=function(){var t=e.get("Playlist"),o=t["::updateById::Account::playlists"];return o.apply(i,arguments)},i}]),l.factory("Form",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Forms/:id",{id:"@id"},{exists:{url:n+"/Forms/:id/exists",method:"GET"},findById:{url:n+"/Forms/:id",method:"GET"},find:{isArray:!0,url:n+"/Forms",method:"GET"},findOne:{url:n+"/Forms/findOne",method:"GET"}});return i.modelName="Form",i}]),l.factory("Key",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Keys/:id",{id:"@id"},{exists:{url:n+"/Keys/:id/exists",method:"GET"},findById:{url:n+"/Keys/:id",method:"GET"},find:{isArray:!0,url:n+"/Keys",method:"GET"},findOne:{url:n+"/Keys/findOne",method:"GET"}});return i.modelName="Key",i}]),l.factory("ABRSM",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/ABRSMs/:id",{id:"@id"},{exists:{url:n+"/ABRSMs/:id/exists",method:"GET"},findById:{url:n+"/ABRSMs/:id",method:"GET"},find:{isArray:!0,url:n+"/ABRSMs",method:"GET"},findOne:{url:n+"/ABRSMs/findOne",method:"GET"}});return i.modelName="ABRSM",i}]),l.factory("Henle",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Henles/:id",{id:"@id"},{exists:{url:n+"/Henles/:id/exists",method:"GET"},findById:{url:n+"/Henles/:id",method:"GET"},find:{isArray:!0,url:n+"/Henles",method:"GET"},findOne:{url:n+"/Henles/findOne",method:"GET"}});return i.modelName="Henle",i}]),l.factory("RCM",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/RCMs/:id",{id:"@id"},{exists:{url:n+"/RCMs/:id/exists",method:"GET"},findById:{url:n+"/RCMs/:id",method:"GET"},find:{isArray:!0,url:n+"/RCMs",method:"GET"},findOne:{url:n+"/RCMs/findOne",method:"GET"}});return i.modelName="RCM",i}]),l.factory("Playlist",["LoopBackResource","LoopBackAuth","$injector",function(t,o,e){var i=t(n+"/Playlists/:id",{id:"@id"},{create:{url:n+"/Playlists",method:"POST"},createMany:{isArray:!0,url:n+"/Playlists",method:"POST"},upsert:{url:n+"/Playlists",method:"PUT"},exists:{url:n+"/Playlists/:id/exists",method:"GET"},findById:{url:n+"/Playlists/:id",method:"GET"},find:{isArray:!0,url:n+"/Playlists",method:"GET"},findOne:{url:n+"/Playlists/findOne",method:"GET"},updateAll:{url:n+"/Playlists/update",method:"POST"},deleteById:{url:n+"/Playlists/:id",method:"DELETE"},count:{url:n+"/Playlists/count",method:"GET"},prototype$updateAttributes:{url:n+"/Playlists/:id",method:"PUT"},"::findById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"GET"},"::destroyById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"DELETE"},"::updateById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"PUT"},"::get::Account::playlists":{isArray:!0,url:n+"/Accounts/:id/playlists",method:"GET"},"::create::Account::playlists":{url:n+"/Accounts/:id/playlists",method:"POST"},"::createMany::Account::playlists":{isArray:!0,url:n+"/Accounts/:id/playlists",method:"POST"},"::count::Account::playlists":{url:n+"/Accounts/:id/playlists/count",method:"GET"}});return i.updateOrCreate=i.upsert,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Playlist",i}]),l.factory("LoopBackAuth",function(){function t(){var t=this;i.forEach(function(o){t[o]=e(o)}),this.currentUserData=null}function o(t,o,e){var i=n+o;null==e&&(e=""),t[i]=e}function e(t){var o=n+t;return localStorage[o]||sessionStorage[o]||null}var i=["accessTokenId","currentUserId","rememberMe"],n="$LoopBack$";return t.prototype.save=function(){var t=this,e=this.rememberMe?localStorage:sessionStorage;i.forEach(function(i){o(e,i,t[i])})},t.prototype.setUser=function(t,o,e){this.accessTokenId=t,this.currentUserId=o,this.currentUserData=e},t.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},t.prototype.clearStorage=function(){i.forEach(function(t){o(sessionStorage,t,null),o(localStorage,t,null)})},new t}).config(["$httpProvider",function(t){t.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(t,o){return{request:function(n){var l=i(n.url);if(l&&l!==s)return n;if(o.accessTokenId)n.headers[r]=o.accessTokenId;else if(n.__isGetCurrentUser__){var a={body:{error:{status:401}},status:401,config:n,headers:function(){return e}};return t.reject(a)}return n||t.when(n)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(t){r=t},this.setUrlBase=function(t){n=t,s=i(n)||location.host},this.getUrlBase=function(){return n},this.$get=["$resource",function(t){return function(o,e,i){var n=t(o,e,i);return n.prototype.$save=function(t,o){var e=n.upsert.call(this,{},this,t,o);return e.$promise||e},n}}]})}(window,window.angular),function(){"use strict";function t(t){t.state("home",{url:"/home",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"$ctrl",resolve:{account:["Account",function(t){return t.getCurrent().$promise}]}}),t.state("home.profile",{url:"/profile",template:"profile goes here"}),t.state("home.playlist",{url:"/playlist",templateUrl:"app/home/home-playlist.html",controller:"HomePlaylistController",controllerAs:"$ctrl"}),t.state("home.repertoire",{url:"/repertoire",templateUrl:"app/home/home-repertoire.html",controller:"HomerRepertoireController",controllerAs:"$ctrl"})}angular.module("app.home",["app.core"]),angular.module("app.home").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";function t(t){t.state("splash",{url:"/",templateUrl:"app/splash/splash.html",controller:"SplashController",controllerAs:"$ctrl"}),t.state("login",{url:"/login",params:{next:null},templateUrl:"app/splash/login.html",controller:"LoginController",controllerAs:"$ctrl",unauthenticated:!0})}angular.module("app.splash",["app.core"]),angular.module("app.splash").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function t(t){function o(){t.info("Activated Admin View")}var e=this;e.title="Admin",o()}angular.module("app.admin").controller("AdminController",t),t.$inject=["logger"]}(),function(){"use strict";function t(t,o){var e=this;this.isCreate=null===this.composer,this.close=function(){t.cancel()},this.upsert=function(){e.isCreate?o.create(e.composer).$promise.then(function(o){t.hide(o)}):e.composer.$save().then(function(){t.hide(e.composer)})},this["delete"]=function(){o.deleteById({id:e.composer.id}).$promise.then(function(){t.hide(e.composer)})}}angular.module("app.admin").controller("AdminComposersDialogController",t),t.$inject=["$mdDialog","Composer"]}(),function(){"use strict";function t(t,o,e){function i(){e.find().$promise.then(function(t){l.composers=t})}function n(o){t.go("composer",{vanity:o.id})}function r(t,e){e.stopPropagation(),o.show({templateUrl:"app/admin/composers/admin-composers-dialog.html",controller:"AdminComposersDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{composer:angular.copy(t)},targetEvent:e}).then(function(){i()})}function s(){o.show({templateUrl:"app/admin/composers/admin-composers-dialog.html",controller:"AdminComposersDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{composer:null}}).then(function(){i()})}var l=this;i(),this.gotoComposer=n,this.openEditor=r,this.createComposer=s}angular.module("app.admin").controller("AdminComposersController",t),t.$inject=["$state","$mdDialog","Composer"]}(),function(){"use strict";function t(t,o,e){var i=this;this.isCreate="new"===t.vanity,this.isCreate?this.action="Create":(this.action="Update",o.findById({id:t.vanity}).$promise.then(function(t){i.composition=t})),e.getComposers().then(function(t){i.composers=t}),e.getKeys().then(function(t){i.keys=t}),e.getForms().then(function(t){i.forms=t}),e.getABRSMs().then(function(t){i.abrsms=t}),e.getHenles().then(function(t){i.henles=t}),e.getRCMs().then(function(t){i.rcms=t}),this.upsert=function(){i.isCreate?o.create(i.composition).$promise.then(function(t){i.composition=t}):i.composition.$save().then(function(t){i.composition=t})}}angular.module("app.admin").controller("AdminCompositionsEditController",t),t.$inject=["$stateParams","Composition","definitionService"]}(),function(){"use strict";function t(t,o){this.createComposition=function(){t.go("admin.compositions-edit",{vanity:"new"})},o.find({filter:{fields:{id:!0,title:!0}}}).$promise.then(function(t){this.compositions=t}.bind(this))}angular.module("app.admin").controller("AdminCompositionsController",t),t.$inject=["$state","Composition"]}(),function(){"use strict";function t(t,o){var e=this;this.isCreate=null===this.form,this.close=function(){t.cancel()},this.upsert=function(){e.isCreate?o.create(e.form).$promise.then(function(o){t.hide(o)}):e.form.$save().then(function(){t.hide(e.form)})},this["delete"]=function(){o.deleteById({id:e.form.id}).$promise.then(function(){t.hide(e.form)})}}angular.module("app.admin").controller("AdminFormsDialogController",t),t.$inject=["$mdDialog","Form"]}(),function(){"use strict";function t(t,o){function e(){o.find({filter:{order:"order ASC"}}).$promise.then(function(t){r.forms=t})}function i(o,i){i.stopPropagation(),t.show({templateUrl:"app/admin/forms/admin-forms-dialog.html",controller:"AdminFormsDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{form:angular.copy(o)},targetEvent:i}).then(function(){e()})}function n(){t.show({templateUrl:"app/admin/forms/admin-forms-dialog.html",controller:"AdminFormsDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{form:null}}).then(function(){e()})}var r=this;e(),this.openEditor=i,this.createForm=n}angular.module("app.admin").controller("AdminFormsController",t),t.$inject=["$mdDialog","Form"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function o(t){t.decorator("$exceptionHandler",e)}function e(t,o,e){return function(i,n){var r=o.config.appErrorPrefix||"",s={exception:i,cause:n};i.message=r+i.message,t(i,n),e.error(i.message,s)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(o),o.$inject=["$provide"],e.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t,o){function e(e){return function(i){var n,r;return i.data&&i.data.description&&(n="\n"+i.data.description,r=e+n),i.data.description=r,o.error(r),t.reject(i)}}var i={catcher:e};return i}t.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",t)}(),function(){"use strict";function t(t){function o(o,e,i){t.error("Error: "+o,e,i)}function e(o,e,i){t.info("Info: "+o,e,i)}function i(o,e,i){t.info("Success: "+o,e,i)}function n(o,e,i){t.warn("Warning: "+o,e,i)}var r={showToasts:!0,error:o,info:e,success:i,warning:n,log:t.log};return r}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log"]}(),function(){"use strict";function t(t,o,e){function i(t,i,r,s){function l(t,i){t.forEach(function(t){t.config.resolve=angular.extend(t.config.resolve||{},n.resolveAlways),o.state(t.state,t.config)}),i&&!p&&(p=!0,e.otherwise(i))}function a(){i.$on("$stateChangeError",function(o,e,i,n,l,a){if(!u){g.errors++,u=!0;var c=e&&(e.title||e.name||e.loadedTemplateUrl)||"unknown target",d="Error routing to "+c+". "+(a.data||"")+". <br/>"+(a.statusText||"")+": "+(a.status||"");s.warning(d,[e]),t.path("/"),401===a.status&&r.go("login",{next:e})}})}function c(){a(),m()}function d(){return r.get()}function m(){i.$on("$stateChangeSuccess",function(t,o,e,r,s){g.changes++,u=!1;var l=n.docTitle+" "+(o.title||"");i.title=l})}var u=!1,p=!1,g={errors:0,changes:0},f={configureStates:l,getStates:d,stateCounts:g};return c(),f}var n={docTitle:void 0,resolveAlways:{}};t.html5Mode(!0),this.configure=function(t){angular.extend(n,t)},this.$get=i,i.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){this.subscribe=function(){alert("to subscribe...")}}angular.module("app.composer").component("lbComposerCard",{templateUrl:"app/composer/components/composer-card.html",bindings:{composer:"<"},controller:t}),t.$inject=["Account"]}(),function(){"use strict";function t(t,o){o.compositions({id:this.composer.id,filter:{order:"id DESC",limit:5}}).$promise.then(function(t){this.additions=t,this.additions.length&&(this.composition=this.additions[0])}.bind(this)),o.compositions({id:this.composer.id,filter:{order:"id ASC",limit:10}}).$promise.then(function(t){this.populars=t}.bind(this)),this.play=function(o){t.$emit("LB_EVENT_PLAYER",o)}}angular.module("app.composer").component("lbComposerCompositions",{templateUrl:"app/composer/components/composer-compositions.html",bindings:{composer:"<"},controller:t}),t.$inject=["$rootScope","Composer"]}(),function(){"use strict";function t(t,o,e){}angular.module("app.composer").component("lbComposerHero",{templateUrl:"app/composer/components/composer-hero.html",bindings:{composer:"<"},controller:t}),t.$inject=["$state","$mdSidenav","Account"]}(),function(){"use strict";function t(t){this.subscribe=function(){alert("to subscribe...")}}angular.module("app.composer").component("lbComposerSubscribe",{templateUrl:"app/composer/components/composer-subscribe.html",bindings:{composer:"<"},controller:t}),t.$inject=["Account"]}(),function(){"use strict";function t(t){this.composer=t}angular.module("app.composer").controller("ComposerController",t),t.$inject=["composer"]}(),function(){"use strict";function t(){this.config={sources:[{src:this.hero}],theme:{url:"/bower_components/videogular-themes-default/videogular.css"},plugins:{controls:{autoHide:!0,autoHideTime:5e3}}},this.icon="keyboard_arrow_up",this.toggle=function(){this.onToggle(),this.icon="keyboard_arrow_up"===this.icon?"keyboard_arrow_down":"keyboard_arrow_up"}}angular.module("app.composition").component("lbCompositionHero",{templateUrl:"app/composition/components/composition-hero.html",bindings:{hero:"<?",onToggle:"&"},controller:t})}(),function(){"use strict";function t(){this.like=function(){console.log("todo, like",this.composition)}}angular.module("app.composition").component("lbCompositionLike",{templateUrl:"app/composition/components/composition-like.html",bindings:{composition:"<"},controller:t})}(),function(){"use strict";function t(t,o){var e="https://soundcloud.com/chieh0326/frederic-chopin-fantaisie",i="https://soundcloud.com/mohamed-ibrahim-60/frederic-chopin-nocturne-in-e",n=n===e?i:e;t.$watch(function(){return this.composition}.bind(this),function(t,r){if(t!==r){var s=o.find("iframe"),l=SC.Widget(s[0]);n=n===e?i:e,console.log("loading...",n,t.title,s[0].src),l.load(n,{auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1})}})}angular.module("app.composition").component("lbCompositionPlayer",{templateUrl:"app/composition/components/composition-player.html",bindings:{composition:"<"},controller:t}),t.$inject=["$scope","$element"]}(),function(){"use strict";function t(t,o){this.$onInit=function(){t.isAuthenticated()&&t.playlists({id:t.getCurrentId(),filter:{fields:"compositionId"}}).$promise.then(function(t){this.inPlaylist=t.map(function(t){return t.compositionId}).indexOf(this.composition.id)>-1}.bind(this))},this.add=function(e){o.showLogin(e).then(function(){return t.playlists.create({id:t.getCurrentId()},{compositionId:this.composition.id}).$promise}.bind(this)).then(function(){this.inPlaylist=!0}.bind(this))}}angular.module("app.composition").component("lbCompositionPlaylist",{templateUrl:"app/composition/components/composition-playlist.html",bindings:{composition:"<"},controller:t}),t.$inject=["Account","dialogService"]}(),function(){"use strict";function t(t){this.composition=t}angular.module("app.composition").controller("CompositionQAController",t),t.$inject=["composition"]}(),function(){"use strict";function t(t,o){this.sheet=t.sheet,this.composition=t,o.$parent.$ctrl.collapseHero(),this.sheet&&(this.pdfUrl=this.sheet.pdf+"/preview")}angular.module("app.composition").controller("CompositionSheetController",t),t.$inject=["composition","$scope"]}(),function(){"use strict";function t(t){this.composition=t,this.height="300px",this.toggleHero=function(){this.height="300px"===this.height?"50px":"300px"},this.collapseHero=function(){"300px"===this.height&&(this.height="50px")}}angular.module("app.composition").controller("CompositionController",t),t.$inject=["composition"]}(),function(){"use strict";function t(t,o,i,n){function r(t,o,e){return{responseError:function(i){return 401==i.status&&(e.clearUser(),e.clearStorage(),o.path("/login")),t.reject(i)}}}t.debugEnabled&&t.debugEnabled(!0),n.configure(e.appErrorPrefix),i.configure({docTitle:e.appTitle+": "}),o.interceptors.push(r),r.$inject=["$q","$location","LoopBackAuth"]}var o=angular.module("app.core"),e={appErrorPrefix:"[lilybook Error] ",appTitle:"lilybook"};o.value("config",e),o.config(t),t.$inject=["$logProvider","$httpProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("moment",moment)}(),function(){"use strict";function t(t){var e="/404";t.configureStates(o(),e)}function o(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}angular.module("app.core").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,o,e){t.$on("$stateChangeStart",function(t,i,n,r,s){return i.authentication&&!e.isAuthenticated()?(t.preventDefault(),o.go("login",{next:i})):(i.admin&&e.getCurrent().$promise.then(function(e){return e&&e.admin?void 0:(t.preventDefault(),o.go("splash"))}),i.unauthenticated&&e.isAuthenticated()?(t.preventDefault(),o.go("splash")):void 0)})}angular.module("app.core").run(t),t.$inject=["$rootScope","$state","Account"]}(),function(){"use strict";function t(t,o,e,i){function n(){return o.when(72)}function r(){function o(t){return t.data}function i(t){return e.catcher("XHR Failed for getPeople")(t)}return t.get("/api/people").then(o)["catch"](i)}var s={getPeople:r,getMessageCount:n};return s}angular.module("app.core").factory("dataservice",t),t.$inject=["$http","$q","exception","logger"]}(),function(){"use strict";function t(t,o,e){this.$onInit=function(){o.getCurrentId()&&o.getCurrent()},t.$watch(function(){return e.currentUserData},function(t){this.user=t}.bind(this))}angular.module("app.core").component("lbRoot",{templateUrl:"app/core/lb-root.html",controller:t}),t.$inject=["$scope","Account","LoopBackAuth"]}(),function(){"use strict";angular.module("app.core").filter("trusted",["$sce",function(t){return function(o){return t.trustAsResourceUrl(o)}}])}(),function(){"use strict";function t(t,o,e){function i(){var o=[n(),r()];return t.all(o).then(function(){e.info("Activated Dashboard View")})}function n(){return o.getMessageCount().then(function(t){return s.messageCount=t,s.messageCount})}function r(){return o.getPeople().then(function(t){return s.people=t,s.people})}var s=this;s.news={title:"lilybook",description:"Hot Towel Angular is a SPA template for Angular developers."},s.messageCount=0,s.people=[],s.title="Dashboard",i()}angular.module("app.dashboard").controller("DashboardController",t),t.$inject=["$q","dataservice","logger"]}(),function(){"use strict";function t(t){t.configureStates(o())}function o(){return[{state:"dashboard",config:{url:"/dashboard",templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",title:"dashboard",settings:{nav:1,content:'<i class="fa fa-dashboard"></i> Dashboard'}}}]}angular.module("app.dashboard").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,o,e,i,n,r,s,l){function a(){var o=g.get("composers");return o?t.when(o):e.find().$promise.then(function(t){return g.put("composers",t),t})}function c(){var o=g.get("keys");return o?t.when(o):i.find().$promise.then(function(t){return g.put("keys",t),t})}function d(){var o=g.get("forms");return o?t.when(o):n.find().$promise.then(function(t){return g.put("forms",t),t})}function m(){var o=g.get("abrsms");return o?t.when(o):r.find().$promise.then(function(t){return g.put("abrsms",t),t})}function u(){var o=g.get("henles");return o?t.when(o):s.find().$promise.then(function(t){return g.put("henles",t),t})}function p(){var o=g.get("rcms");return o?t.when(o):l.find().$promise.then(function(t){return g.put("rcms",t),t})}var g=o("definition"),f={getComposers:a,getKeys:c,getForms:d,getABRSMs:m,getHenles:u,getRCMs:p};return f}angular.module("app.data").factory("definitionService",t),t.$inject=["$q","$cacheFactory","Composer","Key","Form","ABRSM","Henle","RCM"]}(),function(){"use strict";function t(t,o,e){t.playlists({id:e.id}).$promise.then(function(t){return this.playlists=t,t.map(function(t){return t.compositionId})}.bind(this)).then(function(t){return o.find({filter:{where:{id:{inq:t}}}}).$promise.then(function(t){return t.reduce(function(t,o){return t[o.id]=o,t},{})})}).then(function(t){this.playlists.forEach(function(o){o.composition=t[o.compositionId]})}.bind(this))}angular.module("app.home").controller("HomePlaylistController",t),t.$inject=["Account","Composition","account"]}(),function(){"use strict";function t(t,o){this.account=o,t.find({filter:{limit:10}}).$promise.then(function(t){this.recommendations=t}.bind(this))}angular.module("app.home").controller("HomeController",t),t.$inject=["Composition","account"]}(),function(){"use strict";function t(){function t(t,o,e){function i(o){var e="dropy";o.preventDefault(),r.hasClass(e)?r.hasClass(e)&&(r.removeClass(e),n.slideUp(350,t.whenDoneAnimating)):(n.slideDown(350,t.whenDoneAnimating),r.addClass(e))}var n=o.find(".sidebar-inner"),r=o.find(".sidebar-dropdown a");o.addClass("sidebar"),r.on("click",i)}var o={link:t,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return o}angular.module("app.layout").directive("htSidebar",t)}(),function(){"use strict";function t(){function t(){}var o={bindToController:!0,controller:t,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return o}angular.module("app.layout").directive("htTopNav",t)}(),function(){"use strict";function t(t){function o(){var t="https://soundcloud.com/chieh0326/frederic-chopin-fantaisie",o="https://soundcloud.com/mohamed-ibrahim-60/frederic-chopin-nocturne-in-e";return e=e===t?o:t}var e;this.$onInit=function(){this.height="0"},this.close=function(){this.height="0",document.getElementById("soundcloud").innerHTML=null},t.$on("LB_EVENT_PLAYER",function(t,e){console.log("got message",e),this.height="120px",SC.oEmbed(o(),{auto_play:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,maxheight:120}).then(function(t){t.html=t.html.replace("visual=true&",""),document.getElementById("soundcloud").innerHTML=t.html})}.bind(this))}angular.module("app.layout").component("lbFooter",{templateUrl:"app/layout/lb-footer.html",controller:t}),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t,o,e){this.toggleSidenav=function(t){o(t).toggle()},this.logout=function(){e.logout().$promise.then(function(){t.go("splash")})}}angular.module("app.layout").component("lbHeader",{templateUrl:"app/layout/lb-header.html",
bindings:{user:"<"},controller:t}),t.$inject=["$state","$mdSidenav","Account"]}(),function(){"use strict";function t(t){this.close=function(){t("left").close()}}angular.module("app.layout").component("lbSidenav",{templateUrl:"app/layout/lb-sidenav.html",controller:t}),t.$inject=["$mdSidenav"]}(),function(){"use strict";function t(t,o,e,i){function n(){i.success(e.appTitle+" loaded!",null),r()}function r(){o(function(){t.showSplash=!1},1e3)}var s=this;s.busyMessage="Please wait ...",s.isBusy=!0,t.showSplash=!0,s.navline={title:e.appTitle,text:"Created by John Papa",link:"http://twitter.com/john_papa"},n()}angular.module("app.layout").controller("ShellController",t),t.$inject=["$rootScope","$timeout","config","logger"]}(),function(){"use strict";function t(t,o){function e(){i()}function i(){r.navRoutes=s.filter(function(t){return t.settings&&t.settings.nav}).sort(function(t,o){return t.settings.nav-o.settings.nav})}function n(o){if(!o.title||!t.current||!t.current.title)return"";var e=o.title;return t.current.title.substr(0,e.length)===e?"current":""}var r=this,s=o.getStates();r.isCurrent=n,e()}angular.module("app.layout").controller("SidebarController",t),t.$inject=["$state","routerHelper"]}(),function(){"use strict";function t(t,o,e){var i=this;this.login=function(){e.login({email:i.email,password:i.password}).$promise.then(function(e){console.log("login success...",e),o.next&&t.go(o.next.name)})["catch"](function(t){i.error=t.data.error})}}angular.module("app.splash").controller("LoginController",t),t.$inject=["$state","$stateParams","Account"]}(),function(){"use strict";function t(){console.log("SplashController")}angular.module("app.splash").controller("SplashController",t)}(),function(){"use strict";function t(t,o){this.close=function(){t.cancel()},this.login=function(){o.login({email:this.email,password:this.password}).$promise.then(function(o){t.hide(o)})["catch"](function(t){this.error=t.data.error}.bind(this))}}angular.module("app.widgets").controller("DialogLoginController",t),t.$inject=["$mdDialog","Account"]}(),function(){"use strict";function t(t,o,e){function i(i){return e.isAuthenticated()?t.resolve():o.show({templateUrl:"app/widgets/dialog-login.html",controller:"DialogLoginController",controllerAs:"$ctrl",bindToController:!0,clickOutsideToClose:!0,targetEvent:i})}var n={showLogin:i};return n}angular.module("app.widgets").factory("dialogService",t),t.$inject=["$q","$mdDialog","Account"]}(),function(){"use strict";function t(t){function o(t,o,n){n.$observe("htImgPerson",function(t){t=e+(t||i),n.$set("src",t)})}var e=t.imageBasePath,i=t.unknownPersonImageSource,n={link:o,restrict:"A"};return n}angular.module("app.widgets").directive("htImgPerson",t),t.$inject=["config"]}(),function(){"use strict";function t(){var t={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return t}angular.module("app.widgets").directive("htWidgetHeader",t)}(),angular.module("app.core").run(["$templateCache",function(t){t.put("app/admin/admin.html","<div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Compositions ui-sref=admin.compositions></md-tab><md-tab label=Composers ui-sref=admin.composers></md-tab><md-tab label=Forms ui-sref=admin.forms></md-tab></md-tabs><ui-view flex layout></ui-view></div>"),t.put("app/composer/composer.html","<div flex layout=column class=composer><lb-composer-hero composer=$ctrl.composer></lb-composer-hero><md-content flex layout=row><div style=width:200px;></div><div flex class=md-padding><lb-composer-compositions composer=$ctrl.composer></lb-composer-compositions></div></md-content></div>"),t.put("app/composition/composition-qa.html","<div>Q & A goes here!</div>"),t.put("app/composition/composition-sheet.html",'<iframe flex ng-src="{{$ctrl.pdfUrl | trusted}}" frameborder=0></iframe>'),t.put("app/composition/composition.html",'<div layout=column class=composition><div class=composition-hero ng-style="{\'height\':$ctrl.height}"><lb-composition-hero hero=$ctrl.composition.hero on-toggle=$ctrl.toggleHero()></lb-composition-hero></div><div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Details ui-sref=composition></md-tab><md-tab label="Sheet Music" ui-sref=composition.sheet ng-disabled=!$ctrl.composition.sheet></md-tab><md-tab label="Q & A" ui-sref=composition.qa></md-tab></md-tabs><md-content flex layout=column ui-view><div class=md-padding><h1 class=md-headline>{{$ctrl.composition.title}}</h1><p class=md-body-1>{{$ctrl.composition.description}}</p><div layout=row><span flex></span><lb-composition-like composition=$ctrl.composition></lb-composition-like><lb-composition-playlist composition=$ctrl.composition></lb-composition-playlist></div><div layout=row><div flex><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Composer</strong> <a flex ui-sref=composer({vanity:$ctrl.composition.composerId})>{{$ctrl.composition.composer.fullname}}</a></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.form><strong flex=33 class=md-subhead>Form/Genre</strong> <span flex>{{$ctrl.composition.form.name}}</span></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Catalogue Number</strong> <span flex>{{$ctrl.composition.catalogue}}</span></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.number><strong flex=33 class=md-subhead>Work Number</strong><div flex>{{$ctrl.composition.number}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.key><strong flex=33 class=md-subhead>Key</strong><div flex>{{$ctrl.composition.key.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.rcm><strong flex=33 class=md-subhead>RCM</strong><div flex>{{$ctrl.composition.rcm.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.abrsm><strong flex=33 class=md-subhead>ABRSM</strong><div flex>{{$ctrl.composition.abrsm.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.henle><strong flex=33 class=md-subhead>Henle</strong><div flex>{{$ctrl.composition.henle.name}}</div></div></div><div flex><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Likes</strong><div flex>{{$ctrl.likes.length}}</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Todos</strong><div flex>{{$ctrl.todos.length}}</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Videos</strong><div flex>##</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Q&As</strong><div flex>##</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Average Difficulty</strong><div flex>{{$ctrl.average}}</div></div></div></div></div></md-content></div></div>'),t.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),t.put("app/core/lb-root.html","<div flex layout=row><lb-sidenav user=$ctrl.user></lb-sidenav><div flex layout=column><lb-header user=$ctrl.user></lb-header><md-content flex layout ui-view>Loading...</md-content><lb-footer></lb-footer></div></div>"),t.put("app/dashboard/dashboard.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=blightblue><div class=pull-left><i class="fa fa-plane"></i></div><div class="datas-text pull-right"><span class=bold>May 18 - 19, 2015</span> Castle Resort, Neverland</div><div class=clearfix></div></li><li class=borange><div class=pull-left><i class="fa fa-envelope"></i></div><div class="datas-text pull-right"><span class=bold>{{vm.messageCount}}</span> Messages</div><div class=clearfix></div></li></ul></div></div><div class=row><div class=col-md-6><div class="widget wviolet"><div ht-widget-header title=People allow-collapse=true></div><div class="widget-content text-center text-info"><table class="table table-condensed table-striped"><thead><tr><th>First Name</th><th>Last Name</th><th>Age</th><th>Location</th></tr></thead><tbody><tr ng-repeat="p in vm.people"><td>{{p.firstName}}</td><td>{{p.lastName}}</td><td>{{p.age}}</td><td>{{p.location}}</td></tr></tbody></table></div><div class=widget-foot><div class=clearfix></div></div></div></div><div class=col-md-6><div class="widget wgreen"><div ht-widget-header title={{vm.news.title}} allow-collapse=true></div><div class="widget-content text-center text-info"><small>{{vm.news.description}}</small></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></div></section></section>'),t.put("app/home/home-playlist.html",'<div class=md-padding><h2>My Playlist</h2><p ng-if=!$ctrl.playlists.length>You haven\'t added any composition to your playlist.</p><md-list-item class=md-2-line ng-repeat="playlist in $ctrl.playlists"><md-icon class="material-icons md-avatar">queue_music</md-icon><div class=md-list-item-text><h3><a ui-sref=composition({id:playlist.compositionId})>{{playlist.composition.title}}</a></h3><p>{{playlist.createdAt | date}}</p></div></md-list-item></div>'),t.put("app/home/home.html",'<div layout=column class=home style=width:100%;><div><code>{{$ctrl.account | json}}</code></div><div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Home ui-sref=home></md-tab><md-tab label=Profile ui-sref=home.profile></md-tab><md-tab label=Trending ui-sref=home.trending></md-tab><md-tab label=Subscriptions ui-sref=home.subscriptions></md-tab><md-tab label=Likes ui-sref=home.likes></md-tab><md-tab label=Playlist ui-sref=home.playlist></md-tab><md-tab label=Repertoire ui-sref=home.repertoire></md-tab></md-tabs><md-content flex ui-view><div class=md-padding><section><md-subheader class=md-primary>Recommended</md-subheader><div layout=row layout-wrap><div flex=20 ng-repeat="recommendation in $ctrl.recommendations"><md-card><img src=http://placehold.it/200x300 class=md-card-image><md-card-title><md-card-title-text><span class=md-subhead>{{recommendation.title}}</span></md-card-title-text></md-card-title></md-card></div></div></section><section><md-subheader class=md-primary>Chopin</md-subheader><div layout=row layout-wrap><a flex=20 ng-repeat="recommendation in $ctrl.recommendations" ui-sref=composition({id:recommendation.id})><md-card><img src=http://placehold.it/200x300 class=md-card-image></md-card></a></div></section><div>Recommended (10), 2 rows, 5 compositions in each row</div><div>Featured composer 1</div><div>Featured composer 2</div><div>Continue listening/studying</div><div>Random followed composer 1</div><div>Random followed composer 2</div></div></md-content></div></div>'),t.put("app/layout/ht-top-nav.html",'<nav class="navbar navbar-fixed-top navbar-inverse"><div class=navbar-header><a href="/" class=navbar-brand><span class=brand-title>{{vm.navline.title}}</span></a> <a class="btn navbar-btn navbar-toggle" data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></a></div><div class="navbar-collapse collapse"><div class="pull-right navbar-logo"><ul class="nav navbar-nav pull-right"><li><a ng-href={{vm.navline.link}} target=_blank>{{vm.navline.text}}</a></li><li class="dropdown dropdown-big"><a href=http://www.angularjs.org target=_blank><img src=images/AngularJS-small.png></a></li><li><a href="http://www.gulpjs.com/" target=_blank><img src=images/gulp-tiny.png></a></li></ul></div></div></nav>'),t.put("app/layout/lb-footer.html",'<div style="transition:height 1s;overflow:hidden;" ng-style={height:$ctrl.height}><md-button class="md-fab md-mini" ng-click=$ctrl.close() ng-hide="$ctrl.height===\'0\'" style=position:absolute;right:0;><md-icon class=material-icons>close</md-icon></md-button><div id=soundcloud></div></div>'),t.put("app/layout/lb-header.html",'<md-toolbar layout=row layout-align="center center" class=md-whiteframe-z1><md-button hide-gt-sm class=md-icon-button aria-label=Menu ng-click="$ctrl.toggleSidenav(\'left\')"><md-icon class=material-icons>menu</md-icon></md-button><a ui-sref=splash class=brand>LilyBook</a><lb-header-menu></lb-header-menu><md-button hide-sm ui-sref=app.discover>Discover</md-button><md-button hide-sm ui-sref=app.browse>Browse</md-button><md-button hide-sm ui-sref=app.composers>Composers</md-button><span flex></span><md-autocomplete flex=auto hide-md hide-sm md-autofocus=false md-items="item in search(searchText)" md-search-text=searchText md-search-text-change placeholder=Search><md-item-template><span md-highlight-text=searchText md-highlight-flags=^i>{{item.display}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete><md-button hide-gt-md class=md-icon-button aria-label=Search ng-click=todo()><md-icon class=material-icons>search</md-icon></md-button><md-menu ng-if=$ctrl.user><md-button class=md-icon-button ng-click=$mdOpenMenu($event)><md-icon class=material-icons>account_circle</md-icon></md-button><md-menu-content width=3><md-menu-item><md-button ui-sref=home><md-icon class=material-icons>home</md-icon>Home</md-button></md-menu-item><md-menu-item><md-button ui-sref=settings><md-icon class=material-icons>settings</md-icon>Settings</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=$ctrl.logout()><md-icon class=material-icons>exit_to_app</md-icon>Logout</md-button></md-menu-item></md-menu-content></md-menu><md-button ui-sref=login ng-if=!$ctrl.user>Login</md-button></md-toolbar>'),t.put("app/layout/lb-sidenav.html",'<md-sidenav layout=column class="md-sidenav-left md-whiteframe-z2" md-component-id=left><md-toolbar layout=row layout-align="center center" class="md-whiteframe-z1 md-tall"><a ui-sref=splash class=brand>LilyBook</a></md-toolbar><md-content flex><md-list><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Admin</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Browse</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Discover</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Composers</span></md-list-item></md-list></md-content><md-toolbar layout=row layout-align="center center"><md-button ui-sref=signup ng-click=$ctrl.close()>Signup</md-button><span flex></span><md-button ui-sref=login ng-click=$ctrl.close()>Login</md-button></md-toolbar></md-sidenav>'),t.put("app/layout/shell.html",'<div ng-controller="ShellController as vm"><header class=clearfix><ht-top-nav navline=vm.navline></ht-top-nav></header><section id=content class=content><div ng-include="\'app/layout/sidebar.html\'"></div><div ui-view class=shuffle-animation></div></section></div>'),t.put("app/layout/sidebar.html",'<div ng-controller="SidebarController as vm"><ht-sidebar when-done-animating=vm.sidebarReady()><div class=sidebar-filler></div><div class=sidebar-dropdown><a href=#>Menu</a></div><div class=sidebar-inner><div class=sidebar-widget></div><ul class=navi><li class="nlightblue fade-selection-animation" ng-class=vm.isCurrent(r) ng-repeat="r in vm.navRoutes"><a ui-sref={{r.name}} ng-bind-html=r.settings.content></a></li></ul></div></ht-sidebar></div>'),t.put("app/splash/login.html",'<div flex layout=row layout-align="center center"><form name=loginForm class=md-whiteframe-z2 novalidate><h1 class="md-display-1 text-center">Login</h1><md-input-container class=md-block><label>Email</label> <input type=email name=email ng-model=$ctrl.email ng-pattern="/^.+@.+\\..+$/" required><div ng-messages=loginForm.email.$error><div ng-message-exp="[\'required\',\'pattern\']">This field must be an valid email address.</div></div></md-input-container><md-input-container class=md-block><label>Password</label> <input type=password name=password ng-model=$ctrl.password required><div ng-messages=loginForm.password.$error><div ng-message=required>This field is required.</div></div></md-input-container><p class=md-body-2 ng-if=$ctrl.error>{{$ctrl.error.message}}</p><md-input-container class=md-block><md-button type=submit class="md-raised md-primary width-full margin-none" ng-disabled=loginForm.$invalid ng-click=$ctrl.login()>Login</md-button></md-input-container><div layout=row layout-align="center center" layout-padding><a ui-sref=app.splash>Forgot password?</a></div></form></div>'),t.put("app/splash/splash.html",'<div flex layout=column class=splash-container><div flex></div><div layout=row layout-padding layout-margin><md-button flex class="md-raised md-accent" ui-sref=app.signup>Sign Up</md-button><md-button flex class="md-raised md-primary" ui-sref=login>Login</md-button></div></div>'),t.put("app/widgets/dialog-login.html",'<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Login</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=loginForm><md-input-container class=md-block><label>Email</label> <input type=email name=email ng-model=$ctrl.email ng-pattern="/^.+@.+\\..+$/" required><div ng-messages=loginForm.email.$error><div ng-message-exp="[\'required\',\'pattern\']">This field must be an valid email address.</div></div></md-input-container><md-input-container class=md-block><label>Password</label> <input type=password name=password ng-model=$ctrl.password required><div ng-messages=loginForm.password.$error><div ng-message=required>This field is required.</div></div></md-input-container><p class=md-body-2 ng-if=$ctrl.error>{{$ctrl.error.message}}</p><md-input-container class=md-block><md-button type=submit class="md-raised md-primary width-full margin-none" ng-disabled=loginForm.$invalid ng-click=$ctrl.login()>Login</md-button></md-input-container></form></md-dialog-content></md-dialog>'),t.put("app/widgets/widget-header.html",'<div class=widget-head><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>'),t.put("app/admin/composers/admin-composers-dialog.html","<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Composer Editor</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=composerForm><md-input-container class=md-block><label>ID (vanity)</label> <input ng-model=$ctrl.composer.id ng-disabled=!$ctrl.isCreate></md-input-container><md-input-container class=md-block><label>Name</label> <input ng-model=$ctrl.composer.name></md-input-container><md-input-container class=md-block><label>Full Name</label> <input ng-model=$ctrl.composer.fullname></md-input-container><md-input-container class=md-block><label>Image</label> <input ng-model=$ctrl.composer.image> <img ng-src=\"{{ $ctrl.composer.image }}\" style=width:100px;height:100px;></md-input-container><md-input-container class=md-block><label>Bio</label> <textarea ng-model=$ctrl.composer.bio rows=5></textarea></md-input-container></form></md-dialog-content><md-dialog-actions layout=row><span flex></span><md-button class=md-warn ng-click=$ctrl.delete()>Delete</md-button><md-button class=md-primary ng-click=$ctrl.upsert()>{{$ctrl.isCreate ? 'Create': 'Update'}}</md-button><md-button ng-click=$ctrl.close()>Cancel</md-button></md-dialog-actions></md-dialog>"),t.put("app/admin/composers/admin-composers.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Composers</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="composer in $ctrl.composers | filter:{fullname:$ctrl.searchText}" ng-click=$ctrl.gotoComposer(composer)><img alt="{{ composer.name }}" ng-src="{{ composer.image }}" class=md-avatar><p>{{ composer.fullname }}</p><md-icon class=material-icons ng-click="$ctrl.openEditor(composer, $event)">edit</md-icon></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createComposer() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),t.put("app/admin/compositions/admin-compositions-edit.html",'<div flex ng-clock><form class=md-padding name=compositionForm><md-input-container class=md-block><label>Title</label> <input ng-model=$ctrl.composition.title></md-input-container><md-input-container class=md-block><label>Description</label> <textarea ng-model=$ctrl.composition.description rows=5></textarea></md-input-container><md-input-container class=md-block><label>Hero</label> <input ng-model=$ctrl.composition.hero></md-input-container><div layout=row><md-input-container flex><label>Vanity</label> <input ng-model=$ctrl.composition.vanity></md-input-container><md-input-container flex><label>Also Known As</label> <input ng-model=$ctrl.composition.aka></md-input-container></div><div layout=row><md-input-container flex><label>Composer</label><md-select ng-model=$ctrl.composition.composerId><md-option ng-repeat="composer in $ctrl.composers" value={{composer.id}}>{{composer.fullname}}</md-option></md-select></md-input-container><md-input-container flex><label>Key</label><md-select ng-model=$ctrl.composition.key><md-option ng-repeat="key in $ctrl.keys" value={{key.id}}>{{key.name}}</md-option></md-select></md-input-container><md-input-container flex><label>Form</label><md-select ng-model=$ctrl.composition.form><md-option ng-repeat="form in $ctrl.forms" value={{form.id}}>{{form.name}}</md-option></md-select></md-input-container></div><div layout=row><md-input-container flex><label>Catalogue</label> <input ng-model=$ctrl.composition.catalogue></md-input-container><md-input-container flex><label>Work Number</label> <input ng-model=$ctrl.composition.workNumber></md-input-container><md-input-container flex><label>Display Order</label> <input type=number ng-model=$ctrl.composition.order></md-input-container></div><div layout=row><md-input-container flex><label>RCM</label><md-select ng-model=$ctrl.composition.rcm><md-option ng-repeat="rcm in $ctrl.rcms" value={{rcm.id}}>{{rcm.name}}</md-option></md-select></md-input-container><md-input-container flex><label>ABRSM</label><md-select ng-model=$ctrl.composition.abrsm><md-option ng-repeat="abrsm in $ctrl.abrsms" value={{abrsm.id}}>{{abrsm.name}}</md-option></md-select></md-input-container><md-input-container flex><label>Henle</label><md-select ng-model=$ctrl.composition.henle><md-option ng-repeat="henle in $ctrl.henles" value={{henle.id}}>{{henle.name}}</md-option></md-select></md-input-container></div><md-input-container class=md-block><label>Wikipedia</label> <input ng-model=$ctrl.composition.wikipedia></md-input-container><md-input-container class=md-block><label>IMSLP</label> <input ng-model=$ctrl.composition.imslp></md-input-container><md-input-container class=md-block><label>Sheet Music PDF</label> <input ng-model=$ctrl.composition.sheet.pdf></md-input-container><div layout=row><md-input-container flex=25><label>Total Measures</label> <input type=number ng-model=$ctrl.composition.sheet.measures></md-input-container></div><div layout=row><span flex></span><md-button class="md-raised md-primary" ng-click=$ctrl.upsert()>{{$ctrl.action}}</md-button></div></form></div>'),t.put("app/admin/compositions/admin-compositions.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Compositions</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="composition in $ctrl.compositions | filter:{title:$ctrl.searchText}"><p>{{ composition.title }}</p><a ui-sref=admin.compositions-edit({vanity:composition.id})><md-icon class=material-icons>edit</md-icon></a></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createComposition() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),t.put("app/admin/forms/admin-forms-dialog.html","<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Form Editor</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=formForm><md-input-container class=md-block><label>ID (vanity)</label> <input ng-model=$ctrl.form.id ng-disabled=!$ctrl.isCreate></md-input-container><md-input-container class=md-block><label>Name</label> <input ng-model=$ctrl.form.name></md-input-container><md-input-container class=md-block><label>Description</label> <textarea ng-model=$ctrl.form.description rows=5></textarea></md-input-container><md-input-container class=md-block><label>Wiki</label> <input ng-model=$ctrl.form.wiki></md-input-container><md-input-container class=md-block><label>Order</label> <input type=number ng-model=$ctrl.form.order></md-input-container></form></md-dialog-content><md-dialog-actions layout=row><span flex></span><md-button class=md-warn ng-click=$ctrl.delete()>Delete</md-button><md-button class=md-primary ng-click=$ctrl.upsert()>{{$ctrl.isCreate ? 'Create': 'Update'}}</md-button><md-button ng-click=$ctrl.close()>Cancel</md-button></md-dialog-actions></md-dialog>"),t.put("app/admin/forms/admin-forms.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Forms</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="form in $ctrl.forms | filter:{name:$ctrl.searchText}"><p>{{ form.name }}</p><md-icon class=material-icons ng-click="$ctrl.openEditor(form, $event)">edit</md-icon></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createForm() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),t.put("app/composer/components/composer-card.html",'<div class=hero-card><md-card><img ng-src={{$ctrl.composer.image}} class=md-card-image><md-card-title><md-card-title-text><span class=md-title>{{$ctrl.composer.fullname}}</span></md-card-title-text></md-card-title><md-card-content><p class=md-caption>{{$ctrl.composer.bio}}</p></md-card-content><md-card-actions layout=column layout-align=start><md-button class="md-primary md-raised" ng-click=$ctrl.subscribe()>Subscribe</md-button></md-card-actions></md-card></div>'),t.put("app/composer/components/composer-compositions.html",'<md-list class=md-dense><md-subheader class=md-no-sticky>New Additions</md-subheader><md-list-item ng-repeat="composition in $ctrl.additions"><md-icon class="material-icons md-accent" ng-click=$ctrl.play(composition)>play_circle_filled</md-icon><p><a ui-sref=composition({id:composition.id})>{{composition.title}}</a></p></md-list-item><md-subheader class=md-no-sticky>Most Populars</md-subheader><md-list-item ng-repeat="composition in $ctrl.populars"><md-icon class="material-icons md-accent" ng-click=$ctrl.play(composition)>play_circle_filled</md-icon><p><a ui-sref=composition({id:composition.id})>{{composition.title}}</a></p></md-list-item></md-list>'),t.put("app/composer/components/composer-hero.html",'<div class="hero md-whiteframe-1dp"><lb-composer-card composer=$ctrl.composer></lb-composer-card><lb-composer-subscribe composer=$ctrl.composer></lb-composer-subscribe></div>'),t.put("app/composer/components/composer-subscribe.html",'<md-button class="md-primary md-raised" ng-click=$ctrl.subscribe()><md-icon class=material-icons>subscriptions</md-icon>Subscribe</md-button>'),t.put("app/composition/components/composition-hero.html","<div class=hero><videogular vg-theme=$ctrl.config.theme.url><vg-media vg-src=$ctrl.config.sources vg-youtube=\"showinfo=0\"></vg-media><vg-controls vg-autohide=$ctrl.config.plugins.controls.autoHide vg-autohide-time=$ctrl.config.plugins.controls.autoHideTime><vg-play-pause-button></vg-play-pause-button><vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display><vg-scrub-bar><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><div class=toggle-button><button class=iconButton ng-click=$ctrl.toggle()><md-icon class=material-icons>{{$ctrl.icon}}</md-icon></button></div></vg-controls></videogular></div>"),t.put("app/composition/components/composition-like.html",'<md-button class="md-raised md-primary" ng-click=$ctrl.like()><md-icon class=material-icons>thumb_up</md-icon>Like</md-button>'),t.put("app/composition/components/composition-player.html",'<iframe width=100% scrolling=no frameborder=no src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/71760739"></iframe>'),t.put("app/composition/components/composition-playlist.html",'<div><md-button class="md-raised md-primary" ng-if=!$ctrl.inPlaylist ng-click=$ctrl.add($event)><md-icon class=material-icons>playlist_add</md-icon>Add to Playlist</md-button><md-button class="md-raised md-accent" ng-if=$ctrl.inPlaylist ui-sref=home.playlist><md-icon class=material-icons>playlist_add_check</md-icon>In Playlist</md-button></div>')}]);