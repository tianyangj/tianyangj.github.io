/**
 * lilybook - lilybook Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.admin","app.composer","app.composition","app.data","app.home","app.layout","app.splash"])}(),function(){"use strict";function o(o){o.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"$ctrl",authentication:!0,admin:!0}),o.state("admin.composers",{url:"/composers",templateUrl:"app/admin/composers/admin-composers.html",controller:"AdminComposersController",controllerAs:"$ctrl",authentication:!0,admin:!0}),o.state("admin.compositions",{url:"/compositions",templateUrl:"app/admin/compositions/admin-compositions.html",controller:"AdminCompositionsController",controllerAs:"$ctrl",authentication:!0,admin:!0}),o.state("admin.compositions-edit",{url:"/compositions/:vanity",templateUrl:"app/admin/compositions/admin-compositions-edit.html",controller:"AdminCompositionsEditController",controllerAs:"$ctrl",authentication:!0,admin:!0}),o.state("admin.forms",{url:"/forms",templateUrl:"app/admin/forms/admin-forms.html",controller:"AdminFormsController",controllerAs:"$ctrl",authentication:!0,admin:!0})}angular.module("app.admin",["app.core"]),angular.module("app.admin").config(o),o.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";function o(o){o.state("composer",{url:"/composer/:vanity",templateUrl:"app/composer/composer.html",controller:"ComposerController",controllerAs:"$ctrl",resolve:{composer:t}})}function t(o,t){return t.findById({id:o.vanity}).$promise}angular.module("app.composer",["app.core"]),angular.module("app.composer").config(o),o.$inject=["$stateProvider"],t.$inject=["$stateParams","Composer"]}(),function(){"use strict";function o(o){o.state("composition",{url:"/composition/:id",templateUrl:"app/composition/composition.html",controller:"CompositionController",controllerAs:"$ctrl",resolve:{composition:t}}),o.state("composition.sheet",{url:"/sheet",templateUrl:"app/composition/composition-sheet.html",controller:"CompositionSheetController",controllerAs:"$ctrl"}),o.state("composition.qa",{url:"/qa",templateUrl:"app/composition/composition-qa.html",controller:"CompositionQAController",controllerAs:"$ctrl"})}function t(o,t,e,i){return o.all({composition:e.findById({id:t.id}).$promise,composer:e.composer({id:t.id}).$promise,keys:i.getKeys(),forms:i.getForms(),abrsms:i.getABRSMs(),rcms:i.getRCMs(),henles:i.getHenles()}).then(function(o){var t=o.composition;return t.composer=o.composer,t.key=o.keys.filter(function(o){return o.id===t.key})[0],t.form=o.forms.filter(function(o){return o.id===t.form})[0],t.abrsm=o.abrsms.filter(function(o){return o.id===t.abrsm})[0],t.rcm=o.rcms.filter(function(o){return o.id===t.rcm})[0],t.henle=o.henles.filter(function(o){return o.id===t.henle})[0],t})}angular.module("app.composition",["app.core","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","info.vietnamcode.nampnq.videogular.plugins.youtube"]),angular.module("app.composition").config(o),o.$inject=["$stateProvider"],t.$inject=["$q","$stateParams","Composition","definitionService"]}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","ngMessages","ngMaterial","blocks.exception","blocks.logger","ui.router"])}(),function(o,t,e){"use strict";function i(o){var t=o.match(/^(?:https?:)?\/\/([^\/]+)/);return t?t[1]:null}var n="//api.lilybook.com/api",r="authorization",s=i(n)||location.host,l=t.module("app.data",["ngResource"]);l.factory("Composer",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Composers/:id",{id:"@id"},{prototype$__get__compositions:{isArray:!0,url:n+"/Composers/:id/compositions",method:"GET"},prototype$__count__compositions:{url:n+"/Composers/:id/compositions/count",method:"GET"},create:{url:n+"/Composers",method:"POST"},createMany:{isArray:!0,url:n+"/Composers",method:"POST"},upsert:{url:n+"/Composers",method:"PUT"},exists:{url:n+"/Composers/:id/exists",method:"GET"},findById:{url:n+"/Composers/:id",method:"GET"},find:{isArray:!0,url:n+"/Composers",method:"GET"},findOne:{url:n+"/Composers/findOne",method:"GET"},deleteById:{url:n+"/Composers/:id",method:"DELETE"},prototype$updateAttributes:{url:n+"/Composers/:id",method:"PUT"},"::get::Composition::composer":{url:n+"/Compositions/:id/composer",method:"GET"}});return i.updateOrCreate=i.upsert,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Composer",i.compositions=function(){var o=e.get("Composition"),t=o["::get::Composer::compositions"];return t.apply(i,arguments)},i.compositions.count=function(){var o=e.get("Composition"),t=o["::count::Composer::compositions"];return t.apply(i,arguments)},i}]),l.factory("Composition",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Compositions/:id",{id:"@id"},{prototype$__get__composer:{url:n+"/Compositions/:id/composer",method:"GET"},create:{url:n+"/Compositions",method:"POST"},createMany:{isArray:!0,url:n+"/Compositions",method:"POST"},upsert:{url:n+"/Compositions",method:"PUT"},exists:{url:n+"/Compositions/:id/exists",method:"GET"},findById:{url:n+"/Compositions/:id",method:"GET"},find:{isArray:!0,url:n+"/Compositions",method:"GET"},findOne:{url:n+"/Compositions/findOne",method:"GET"},deleteById:{url:n+"/Compositions/:id",method:"DELETE"},count:{url:n+"/Compositions/count",method:"GET"},prototype$updateAttributes:{url:n+"/Compositions/:id",method:"PUT"},"::get::Composer::compositions":{isArray:!0,url:n+"/Composers/:id/compositions",method:"GET"},"::count::Composer::compositions":{url:n+"/Composers/:id/compositions/count",method:"GET"}});return i.updateOrCreate=i.upsert,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Composition",i.composer=function(){var o=e.get("Composer"),t=o["::get::Composition::composer"];return t.apply(i,arguments)},i}]),l.factory("Account",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Accounts/:id",{id:"@id"},{prototype$__findById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"GET"},prototype$__destroyById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"DELETE"},prototype$__updateById__playlists:{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"PUT"},prototype$__get__playlists:{isArray:!0,url:n+"/Accounts/:id/playlists",method:"GET"},prototype$__create__playlists:{url:n+"/Accounts/:id/playlists",method:"POST"},prototype$__count__playlists:{url:n+"/Accounts/:id/playlists/count",method:"GET"},findById:{url:n+"/Accounts/:id",method:"GET"},login:{params:{include:"user"},interceptor:{response:function(o){var e=o.data;return t.setUser(e.id,e.userId,e.user),t.rememberMe=o.config.params.rememberMe!==!1,t.save(),o.resource}},url:n+"/Accounts/login",method:"POST"},logout:{interceptor:{response:function(o){return t.clearUser(),t.clearStorage(),o.resource}},url:n+"/Accounts/logout",method:"POST"},confirm:{url:n+"/Accounts/confirm",method:"GET"},resetPassword:{url:n+"/Accounts/reset",method:"POST"},getCurrent:{url:n+"/Accounts/:id",method:"GET",params:{id:function(){var o=t.currentUserId;return null==o&&(o="__anonymous__"),o}},interceptor:{response:function(o){return t.currentUserData=o.data,o.resource}},__isGetCurrentUser__:!0}});return i.getCachedCurrent=function(){var o=t.currentUserData;return o?new i(o):null},i.isAuthenticated=function(){return null!=this.getCurrentId()},i.getCurrentId=function(){return t.currentUserId},i.modelName="Account",i.playlists=function(){var o=e.get("Playlist"),t=o["::get::Account::playlists"];return t.apply(i,arguments)},i.playlists.count=function(){var o=e.get("Playlist"),t=o["::count::Account::playlists"];return t.apply(i,arguments)},i.playlists.create=function(){var o=e.get("Playlist"),t=o["::create::Account::playlists"];return t.apply(i,arguments)},i.playlists.createMany=function(){var o=e.get("Playlist"),t=o["::createMany::Account::playlists"];return t.apply(i,arguments)},i.playlists.destroyById=function(){var o=e.get("Playlist"),t=o["::destroyById::Account::playlists"];return t.apply(i,arguments)},i.playlists.findById=function(){var o=e.get("Playlist"),t=o["::findById::Account::playlists"];return t.apply(i,arguments)},i.playlists.updateById=function(){var o=e.get("Playlist"),t=o["::updateById::Account::playlists"];return t.apply(i,arguments)},i}]),l.factory("Form",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Forms/:id",{id:"@id"},{exists:{url:n+"/Forms/:id/exists",method:"GET"},findById:{url:n+"/Forms/:id",method:"GET"},find:{isArray:!0,url:n+"/Forms",method:"GET"},findOne:{url:n+"/Forms/findOne",method:"GET"}});return i.modelName="Form",i}]),l.factory("Key",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Keys/:id",{id:"@id"},{exists:{url:n+"/Keys/:id/exists",method:"GET"},findById:{url:n+"/Keys/:id",method:"GET"},find:{isArray:!0,url:n+"/Keys",method:"GET"},findOne:{url:n+"/Keys/findOne",method:"GET"}});return i.modelName="Key",i}]),l.factory("ABRSM",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/ABRSMs/:id",{id:"@id"},{exists:{url:n+"/ABRSMs/:id/exists",method:"GET"},findById:{url:n+"/ABRSMs/:id",method:"GET"},find:{isArray:!0,url:n+"/ABRSMs",method:"GET"},findOne:{url:n+"/ABRSMs/findOne",method:"GET"}});return i.modelName="ABRSM",i}]),l.factory("Henle",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Henles/:id",{id:"@id"},{exists:{url:n+"/Henles/:id/exists",method:"GET"},findById:{url:n+"/Henles/:id",method:"GET"},find:{isArray:!0,url:n+"/Henles",method:"GET"},findOne:{url:n+"/Henles/findOne",method:"GET"}});return i.modelName="Henle",i}]),l.factory("RCM",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/RCMs/:id",{id:"@id"},{exists:{url:n+"/RCMs/:id/exists",method:"GET"},findById:{url:n+"/RCMs/:id",method:"GET"},find:{isArray:!0,url:n+"/RCMs",method:"GET"},findOne:{url:n+"/RCMs/findOne",method:"GET"}});return i.modelName="RCM",i}]),l.factory("Playlist",["LoopBackResource","LoopBackAuth","$injector",function(o,t,e){var i=o(n+"/Playlists/:id",{id:"@id"},{create:{url:n+"/Playlists",method:"POST"},createMany:{isArray:!0,url:n+"/Playlists",method:"POST"},upsert:{url:n+"/Playlists",method:"PUT"},exists:{url:n+"/Playlists/:id/exists",method:"GET"},findById:{url:n+"/Playlists/:id",method:"GET"},find:{isArray:!0,url:n+"/Playlists",method:"GET"},findOne:{url:n+"/Playlists/findOne",method:"GET"},updateAll:{url:n+"/Playlists/update",method:"POST"},deleteById:{url:n+"/Playlists/:id",method:"DELETE"},count:{url:n+"/Playlists/count",method:"GET"},prototype$updateAttributes:{url:n+"/Playlists/:id",method:"PUT"},"::findById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"GET"},"::destroyById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"DELETE"},"::updateById::Account::playlists":{params:{fk:"@fk"},url:n+"/Accounts/:id/playlists/:fk",method:"PUT"},"::get::Account::playlists":{isArray:!0,url:n+"/Accounts/:id/playlists",method:"GET"},"::create::Account::playlists":{url:n+"/Accounts/:id/playlists",method:"POST"},"::createMany::Account::playlists":{isArray:!0,url:n+"/Accounts/:id/playlists",method:"POST"},"::count::Account::playlists":{url:n+"/Accounts/:id/playlists/count",method:"GET"}});return i.updateOrCreate=i.upsert,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.modelName="Playlist",i}]),l.factory("LoopBackAuth",function(){function o(){var o=this;i.forEach(function(t){o[t]=e(t)}),this.currentUserData=null}function t(o,t,e){var i=n+t;null==e&&(e=""),o[i]=e}function e(o){var t=n+o;return localStorage[t]||sessionStorage[t]||null}var i=["accessTokenId","currentUserId","rememberMe"],n="$LoopBack$";return o.prototype.save=function(){var o=this,e=this.rememberMe?localStorage:sessionStorage;i.forEach(function(i){t(e,i,o[i])})},o.prototype.setUser=function(o,t,e){this.accessTokenId=o,this.currentUserId=t,this.currentUserData=e},o.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},o.prototype.clearStorage=function(){i.forEach(function(o){t(sessionStorage,o,null),t(localStorage,o,null)})},new o}).config(["$httpProvider",function(o){o.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(o,t){return{request:function(n){var l=i(n.url);if(l&&l!==s)return n;if(t.accessTokenId)n.headers[r]=t.accessTokenId;else if(n.__isGetCurrentUser__){var c={body:{error:{status:401}},status:401,config:n,headers:function(){return e}};return o.reject(c)}return n||o.when(n)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(o){r=o},this.setUrlBase=function(o){n=o,s=i(n)||location.host},this.getUrlBase=function(){return n},this.$get=["$resource",function(o){return function(t,e,i){var n=o(t,e,i);return n.prototype.$save=function(o,t){var e=n.upsert.call(this,{},this,o,t);return e.$promise||e},n}}]})}(window,window.angular),function(){"use strict";function o(o){o.state("home",{url:"/home",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"$ctrl",resolve:{account:["Account",function(o){return o.getCurrent().$promise}]}}),o.state("home.profile",{url:"/profile",template:"profile goes here"}),o.state("home.playlist",{url:"/playlist",templateUrl:"app/home/home-playlist.html",controller:"HomePlaylistController",controllerAs:"$ctrl"}),o.state("home.repertoire",{url:"/repertoire",templateUrl:"app/home/home-repertoire.html",controller:"HomerRepertoireController",controllerAs:"$ctrl"})}angular.module("app.home",["app.core"]),angular.module("app.home").config(o),o.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";function o(o){o.state("splash",{url:"/",templateUrl:"app/splash/splash.html",controller:"SplashController",controllerAs:"$ctrl"}),o.state("login",{url:"/login",params:{next:null},templateUrl:"app/splash/login.html",controller:"LoginController",controllerAs:"$ctrl",unauthenticated:!0})}angular.module("app.splash",["app.core"]),angular.module("app.splash").config(o),o.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function o(o){function t(){o.info("Activated Admin View")}var e=this;e.title="Admin",t()}angular.module("app.admin").controller("AdminController",o),o.$inject=["logger"]}(),function(){"use strict";function o(o,t){var e=this;this.isCreate=null===this.composer,this.close=function(){o.cancel()},this.upsert=function(){e.isCreate?t.create(e.composer).$promise.then(function(t){o.hide(t)}):e.composer.$save().then(function(){o.hide(e.composer)})},this["delete"]=function(){t.deleteById({id:e.composer.id}).$promise.then(function(){o.hide(e.composer)})}}angular.module("app.admin").controller("AdminComposersDialogController",o),o.$inject=["$mdDialog","Composer"]}(),function(){"use strict";function o(o,t,e){function i(){e.find().$promise.then(function(o){l.composers=o})}function n(t){o.go("composer",{vanity:t.id})}function r(o,e){e.stopPropagation(),t.show({templateUrl:"app/admin/composers/admin-composers-dialog.html",controller:"AdminComposersDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{composer:angular.copy(o)},targetEvent:e}).then(function(){i()})}function s(){t.show({templateUrl:"app/admin/composers/admin-composers-dialog.html",controller:"AdminComposersDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{composer:null}}).then(function(){i()})}var l=this;i(),this.gotoComposer=n,this.openEditor=r,this.createComposer=s}angular.module("app.admin").controller("AdminComposersController",o),o.$inject=["$state","$mdDialog","Composer"]}(),function(){"use strict";function o(o,t,e){var i=this;this.isCreate="new"===o.vanity,this.isCreate?this.action="Create":(this.action="Update",t.findById({id:o.vanity}).$promise.then(function(o){i.composition=o})),e.getComposers().then(function(o){i.composers=o}),e.getKeys().then(function(o){i.keys=o}),e.getForms().then(function(o){i.forms=o}),e.getABRSMs().then(function(o){i.abrsms=o}),e.getHenles().then(function(o){i.henles=o}),e.getRCMs().then(function(o){i.rcms=o}),this.upsert=function(){i.isCreate?t.create(i.composition).$promise.then(function(o){i.composition=o}):i.composition.$save().then(function(o){i.composition=o})}}angular.module("app.admin").controller("AdminCompositionsEditController",o),o.$inject=["$stateParams","Composition","definitionService"]}(),function(){"use strict";function o(o,t){this.createComposition=function(){o.go("admin.compositions-edit",{vanity:"new"})},t.find({filter:{fields:{id:!0,title:!0}}}).$promise.then(function(o){this.compositions=o}.bind(this))}angular.module("app.admin").controller("AdminCompositionsController",o),o.$inject=["$state","Composition"]}(),function(){"use strict";function o(o,t){var e=this;this.isCreate=null===this.form,this.close=function(){o.cancel()},this.upsert=function(){e.isCreate?t.create(e.form).$promise.then(function(t){o.hide(t)}):e.form.$save().then(function(){o.hide(e.form)})},this["delete"]=function(){t.deleteById({id:e.form.id}).$promise.then(function(){o.hide(e.form)})}}angular.module("app.admin").controller("AdminFormsDialogController",o),o.$inject=["$mdDialog","Form"]}(),function(){"use strict";function o(o,t){function e(){t.find({filter:{order:"order ASC"}}).$promise.then(function(o){r.forms=o})}function i(t,i){i.stopPropagation(),o.show({templateUrl:"app/admin/forms/admin-forms-dialog.html",controller:"AdminFormsDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{form:angular.copy(t)},targetEvent:i}).then(function(){e()})}function n(){o.show({templateUrl:"app/admin/forms/admin-forms-dialog.html",controller:"AdminFormsDialogController",controllerAs:"$ctrl",bindToController:!0,locals:{form:null}}).then(function(){e()})}var r=this;e(),this.openEditor=i,this.createForm=n}angular.module("app.admin").controller("AdminFormsController",o),o.$inject=["$mdDialog","Form"]}(),function(){"use strict";function o(){this.config={appErrorPrefix:void 0},this.configure=function(o){this.config.appErrorPrefix=o},this.$get=function(){return{config:this.config}}}function t(o){o.decorator("$exceptionHandler",e)}function e(o,t,e){return function(i,n){var r=t.config.appErrorPrefix||"",s={exception:i,cause:n};i.message=r+i.message,o(i,n),e.error(i.message,s)}}angular.module("blocks.exception").provider("exceptionHandler",o).config(t),t.$inject=["$provide"],e.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function o(o,t){function e(e){return function(i){var n,r;return i.data&&i.data.description&&(n="\n"+i.data.description,r=e+n),i.data.description=r,t.error(r),o.reject(i)}}var i={catcher:e};return i}o.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",o)}(),function(){"use strict";function o(o){function t(t,e,i){o.error("Error: "+t,e,i)}function e(t,e,i){o.info("Info: "+t,e,i)}function i(t,e,i){o.info("Success: "+t,e,i)}function n(t,e,i){o.warn("Warning: "+t,e,i)}var r={showToasts:!0,error:t,info:e,success:i,warning:n,log:o.log};return r}angular.module("blocks.logger").factory("logger",o),o.$inject=["$log"]}(),function(){"use strict";function o(o){this.subscribe=function(){alert("to subscribe...")}}angular.module("app.composer").component("lbComposerCard",{templateUrl:"app/composer/components/composer-card.html",bindings:{composer:"<"},controller:o}),o.$inject=["Account"]}(),function(){"use strict";function o(o,t){t.compositions({id:this.composer.id,filter:{order:"id DESC",limit:5}}).$promise.then(function(o){this.additions=o,this.additions.length&&(this.composition=this.additions[0])}.bind(this)),t.compositions({id:this.composer.id,filter:{order:"id ASC",limit:10}}).$promise.then(function(o){this.populars=o}.bind(this)),this.play=function(t){o.$emit("LB_EVENT_PLAYER",t)}}angular.module("app.composer").component("lbComposerCompositions",{templateUrl:"app/composer/components/composer-compositions.html",bindings:{composer:"<"},controller:o}),o.$inject=["$rootScope","Composer"]}(),function(){"use strict";function o(o,t,e){}angular.module("app.composer").component("lbComposerHero",{templateUrl:"app/composer/components/composer-hero.html",bindings:{composer:"<"},controller:o}),o.$inject=["$state","$mdSidenav","Account"]}(),function(){"use strict";function o(o){this.subscribe=function(){alert("to subscribe...")}}angular.module("app.composer").component("lbComposerSubscribe",{templateUrl:"app/composer/components/composer-subscribe.html",bindings:{composer:"<"},controller:o}),o.$inject=["Account"]}(),function(){"use strict";function o(o){this.composer=o}angular.module("app.composer").controller("ComposerController",o),o.$inject=["composer"]}(),function(){"use strict";function o(){this.config={sources:[{src:this.hero}],theme:{url:"/bower_components/videogular-themes-default/videogular.css"},plugins:{controls:{autoHide:!0,autoHideTime:5e3}}},this.icon="keyboard_arrow_up",this.toggle=function(){this.onToggle(),this.icon="keyboard_arrow_up"===this.icon?"keyboard_arrow_down":"keyboard_arrow_up"}}angular.module("app.composition").component("lbCompositionHero",{templateUrl:"app/composition/components/composition-hero.html",bindings:{hero:"<?",onToggle:"&"},controller:o})}(),function(){"use strict";function o(){this.like=function(){console.log("todo, like",this.composition)}}angular.module("app.composition").component("lbCompositionLike",{templateUrl:"app/composition/components/composition-like.html",bindings:{composition:"<"},controller:o})}(),function(){"use strict";function o(o,t){var e="https://soundcloud.com/chieh0326/frederic-chopin-fantaisie",i="https://soundcloud.com/mohamed-ibrahim-60/frederic-chopin-nocturne-in-e",n=n===e?i:e;o.$watch(function(){return this.composition}.bind(this),function(o,r){if(o!==r){var s=t.find("iframe"),l=SC.Widget(s[0]);n=n===e?i:e,console.log("loading...",n,o.title,s[0].src),l.load(n,{auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1})}})}angular.module("app.composition").component("lbCompositionPlayer",{templateUrl:"app/composition/components/composition-player.html",bindings:{composition:"<"},controller:o}),o.$inject=["$scope","$element"]}(),function(){"use strict";function o(o,t){this.$onInit=function(){o.isAuthenticated()&&o.playlists({id:o.getCurrentId(),filter:{fields:"compositionId"}}).$promise.then(function(o){this.inPlaylist=o.map(function(o){return o.compositionId}).indexOf(this.composition.id)>-1}.bind(this))},this.add=function(e){t.showLogin(e).then(function(){return o.playlists.create({id:o.getCurrentId()},{compositionId:this.composition.id}).$promise}.bind(this)).then(function(){this.inPlaylist=!0}.bind(this))}}angular.module("app.composition").component("lbCompositionPlaylist",{templateUrl:"app/composition/components/composition-playlist.html",bindings:{composition:"<"},controller:o}),o.$inject=["Account","dialogService"]}(),function(){"use strict";function o(o){this.composition=o}angular.module("app.composition").controller("CompositionQAController",o),o.$inject=["composition"]}(),function(){"use strict";function o(o,t){this.sheet=o.sheet,this.composition=o,t.$parent.$ctrl.collapseHero(),this.sheet&&(this.pdfUrl=this.sheet.pdf+"/preview")}angular.module("app.composition").controller("CompositionSheetController",o),o.$inject=["composition","$scope"]}(),function(){"use strict";function o(o){this.composition=o,this.height="300px",this.toggleHero=function(){this.height="300px"===this.height?"50px":"300px"},this.collapseHero=function(){"300px"===this.height&&(this.height="50px")}}angular.module("app.composition").controller("CompositionController",o),o.$inject=["composition"]}(),function(){"use strict";function o(o,t,i){function n(o,t,e){return{responseError:function(i){return 401==i.status&&(e.clearUser(),e.clearStorage(),t.path("/login")),o.reject(i)}}}o.debugEnabled&&o.debugEnabled(!0),i.configure(e.appErrorPrefix),t.interceptors.push(n),n.$inject=["$q","$location","LoopBackAuth"]}var t=angular.module("app.core"),e={appErrorPrefix:"[lilybook Error] ",appTitle:"lilybook"};t.value("config",e),t.config(o),o.$inject=["$logProvider","$httpProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("moment",moment)}(),function(){"use strict";function o(o,t){o.state("404",{url:"/404",templateUrl:"app/core/404.html"}),t.otherwise("/")}angular.module("app.core").config(o),o.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function o(o,t,e){o.$on("$stateChangeStart",function(o,i,n,r,s){return i.authentication&&!e.isAuthenticated()?(o.preventDefault(),t.go("login",{next:i})):(i.admin&&e.getCurrent().$promise.then(function(e){return e&&e.admin?void 0:(o.preventDefault(),t.go("splash"))}),i.unauthenticated&&e.isAuthenticated()?(o.preventDefault(),t.go("splash")):void 0)})}angular.module("app.core").run(o),o.$inject=["$rootScope","$state","Account"]}(),function(){"use strict";function o(o,t,e){this.$onInit=function(){t.getCurrentId()&&t.getCurrent()},o.$watch(function(){return e.currentUserData},function(o){this.user=o}.bind(this))}angular.module("app.core").component("lbRoot",{templateUrl:"app/core/lb-root.html",controller:o}),o.$inject=["$scope","Account","LoopBackAuth"]}(),function(){"use strict";angular.module("app.core").filter("trusted",["$sce",function(o){return function(t){return o.trustAsResourceUrl(t)}}])}(),function(){"use strict";function o(o,t,e,i,n,r,s,l){function c(){var t=f.get("composers");return t?o.when(t):e.find().$promise.then(function(o){return f.put("composers",o),o})}function a(){var t=f.get("keys");return t?o.when(t):i.find().$promise.then(function(o){return f.put("keys",o),o})}function m(){var t=f.get("forms");return t?o.when(t):n.find().$promise.then(function(o){return f.put("forms",o),o})}function d(){var t=f.get("abrsms");return t?o.when(t):r.find().$promise.then(function(o){return f.put("abrsms",o),o})}function p(){var t=f.get("henles");return t?o.when(t):s.find().$promise.then(function(o){return f.put("henles",o),o})}function u(){var t=f.get("rcms");return t?o.when(t):l.find().$promise.then(function(o){return f.put("rcms",o),o})}var f=t("definition"),h={getComposers:c,getKeys:a,getForms:m,getABRSMs:d,getHenles:p,getRCMs:u};return h}angular.module("app.data").factory("definitionService",o),o.$inject=["$q","$cacheFactory","Composer","Key","Form","ABRSM","Henle","RCM"]}(),function(){"use strict";function o(o,t,e){o.playlists({id:e.id}).$promise.then(function(o){return this.playlists=o,o.map(function(o){return o.compositionId})}.bind(this)).then(function(o){return t.find({filter:{where:{id:{inq:o}}}}).$promise.then(function(o){return o.reduce(function(o,t){return o[t.id]=t,o},{})})}).then(function(o){this.playlists.forEach(function(t){t.composition=o[t.compositionId]})}.bind(this))}angular.module("app.home").controller("HomePlaylistController",o),o.$inject=["Account","Composition","account"]}(),function(){"use strict";function o(o,t){this.account=t,o.find({filter:{limit:10}}).$promise.then(function(o){this.recommendations=o}.bind(this))}angular.module("app.home").controller("HomeController",o),o.$inject=["Composition","account"]}(),function(){"use strict";function o(o){function t(){var o="https://soundcloud.com/chieh0326/frederic-chopin-fantaisie",t="https://soundcloud.com/mohamed-ibrahim-60/frederic-chopin-nocturne-in-e";return e=e===o?t:o}var e;this.$onInit=function(){this.height="0"},this.close=function(){this.height="0",document.getElementById("soundcloud").innerHTML=null},o.$on("LB_EVENT_PLAYER",function(o,e){console.log("got message",e),this.height="120px",SC.oEmbed(t(),{auto_play:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,maxheight:120}).then(function(o){o.html=o.html.replace("visual=true&",""),document.getElementById("soundcloud").innerHTML=o.html})}.bind(this))}angular.module("app.layout").component("lbFooter",{templateUrl:"app/layout/lb-footer.html",controller:o}),o.$inject=["$rootScope"]}(),function(){"use strict";function o(o,t,e){this.toggleSidenav=function(o){t(o).toggle()},this.logout=function(){e.logout().$promise.then(function(){o.go("splash")})}}angular.module("app.layout").component("lbHeader",{templateUrl:"app/layout/lb-header.html",bindings:{user:"<"},controller:o}),o.$inject=["$state","$mdSidenav","Account"]}(),function(){"use strict";function o(o){this.close=function(){o("left").close()}}angular.module("app.layout").component("lbSidenav",{templateUrl:"app/layout/lb-sidenav.html",controller:o}),o.$inject=["$mdSidenav"]}(),function(){"use strict";function o(o,t,e){var i=this;this.login=function(){e.login({email:i.email,password:i.password}).$promise.then(function(e){console.log("login success...",e),t.next&&o.go(t.next.name)})["catch"](function(o){i.error=o.data.error})}}angular.module("app.splash").controller("LoginController",o),o.$inject=["$state","$stateParams","Account"]}(),function(){"use strict";function o(){console.log("SplashController")}angular.module("app.splash").controller("SplashController",o)}(),function(){"use strict";function o(o,t){this.close=function(){o.cancel()},this.login=function(){t.login({email:this.email,password:this.password}).$promise.then(function(t){o.hide(t)})["catch"](function(o){this.error=o.data.error}.bind(this))}}angular.module("app.widgets").controller("DialogLoginController",o),o.$inject=["$mdDialog","Account"]}(),function(){"use strict";function o(o,t,e){function i(i){return e.isAuthenticated()?o.resolve():t.show({templateUrl:"app/widgets/dialog-login.html",controller:"DialogLoginController",controllerAs:"$ctrl",bindToController:!0,clickOutsideToClose:!0,targetEvent:i})}var n={showLogin:i};return n}angular.module("app.widgets").factory("dialogService",o),o.$inject=["$q","$mdDialog","Account"]}(),function(){"use strict";function o(o){function t(o,t,n){n.$observe("htImgPerson",function(o){o=e+(o||i),n.$set("src",o)})}var e=o.imageBasePath,i=o.unknownPersonImageSource,n={link:t,restrict:"A"};return n}angular.module("app.widgets").directive("htImgPerson",o),o.$inject=["config"]}(),function(){"use strict";function o(){var o={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return o}angular.module("app.widgets").directive("htWidgetHeader",o)}(),angular.module("app.core").run(["$templateCache",function(o){o.put("app/admin/admin.html","<div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Compositions ui-sref=admin.compositions></md-tab><md-tab label=Composers ui-sref=admin.composers></md-tab><md-tab label=Forms ui-sref=admin.forms></md-tab></md-tabs><ui-view flex layout></ui-view></div>"),o.put("app/composer/composer.html","<div flex layout=column class=composer><lb-composer-hero composer=$ctrl.composer></lb-composer-hero><md-content flex layout=row><div style=width:200px;></div><div flex class=md-padding><lb-composer-compositions composer=$ctrl.composer></lb-composer-compositions></div></md-content></div>"),o.put("app/composition/composition-qa.html","<div>Q & A goes here!</div>"),o.put("app/composition/composition-sheet.html",'<iframe flex ng-src="{{$ctrl.pdfUrl | trusted}}" frameborder=0></iframe>'),o.put("app/composition/composition.html",'<div layout=column class=composition><div class=composition-hero ng-style="{\'height\':$ctrl.height}"><lb-composition-hero hero=$ctrl.composition.hero on-toggle=$ctrl.toggleHero()></lb-composition-hero></div><div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Details ui-sref=composition></md-tab><md-tab label="Sheet Music" ui-sref=composition.sheet ng-disabled=!$ctrl.composition.sheet></md-tab><md-tab label="Q & A" ui-sref=composition.qa></md-tab></md-tabs><md-content flex layout=column ui-view><div class=md-padding><h1 class=md-headline>{{$ctrl.composition.title}}</h1><p class=md-body-1>{{$ctrl.composition.description}}</p><div layout=row><span flex></span><lb-composition-like composition=$ctrl.composition></lb-composition-like><lb-composition-playlist composition=$ctrl.composition></lb-composition-playlist></div><div layout=row><div flex><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Composer</strong> <a flex ui-sref=composer({vanity:$ctrl.composition.composerId})>{{$ctrl.composition.composer.fullname}}</a></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.form><strong flex=33 class=md-subhead>Form/Genre</strong> <span flex>{{$ctrl.composition.form.name}}</span></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Catalogue Number</strong> <span flex>{{$ctrl.composition.catalogue}}</span></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.number><strong flex=33 class=md-subhead>Work Number</strong><div flex>{{$ctrl.composition.number}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.key><strong flex=33 class=md-subhead>Key</strong><div flex>{{$ctrl.composition.key.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.rcm><strong flex=33 class=md-subhead>RCM</strong><div flex>{{$ctrl.composition.rcm.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.abrsm><strong flex=33 class=md-subhead>ABRSM</strong><div flex>{{$ctrl.composition.abrsm.name}}</div></div><div class=md-padding layout=row layout-align="center center" ng-if=$ctrl.composition.henle><strong flex=33 class=md-subhead>Henle</strong><div flex>{{$ctrl.composition.henle.name}}</div></div></div><div flex><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Likes</strong><div flex>{{$ctrl.likes.length}}</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Todos</strong><div flex>{{$ctrl.todos.length}}</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Videos</strong><div flex>##</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Q&As</strong><div flex>##</div></div><div class=md-padding layout=row layout-align="center center"><strong flex=33 class=md-subhead>Average Difficulty</strong><div flex>{{$ctrl.average}}</div></div></div></div></div></md-content></div></div>'),
o.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),o.put("app/core/lb-root.html","<div flex layout=row><lb-sidenav user=$ctrl.user></lb-sidenav><div flex layout=column><lb-header user=$ctrl.user></lb-header><md-content flex layout ui-view>Loading...</md-content><lb-footer></lb-footer></div></div>"),o.put("app/home/home-playlist.html",'<div class=md-padding><h2>My Playlist</h2><p ng-if=!$ctrl.playlists.length>You haven\'t added any composition to your playlist.</p><md-list-item class=md-2-line ng-repeat="playlist in $ctrl.playlists"><md-icon class="material-icons md-avatar">queue_music</md-icon><div class=md-list-item-text><h3><a ui-sref=composition({id:playlist.compositionId})>{{playlist.composition.title}}</a></h3><p>{{playlist.createdAt | date}}</p></div></md-list-item></div>'),o.put("app/home/home.html",'<div layout=column class=home style=width:100%;><div><code>{{$ctrl.account | json}}</code></div><div flex layout=column><md-tabs md-center-tabs md-border-bottom><md-tab label=Home ui-sref=home></md-tab><md-tab label=Profile ui-sref=home.profile></md-tab><md-tab label=Trending ui-sref=home.trending></md-tab><md-tab label=Subscriptions ui-sref=home.subscriptions></md-tab><md-tab label=Likes ui-sref=home.likes></md-tab><md-tab label=Playlist ui-sref=home.playlist></md-tab><md-tab label=Repertoire ui-sref=home.repertoire></md-tab></md-tabs><md-content flex ui-view><div class=md-padding><section><md-subheader class=md-primary>Recommended</md-subheader><div layout=row layout-wrap><div flex=20 ng-repeat="recommendation in $ctrl.recommendations"><md-card><img src=//placehold.it/200x300 class=md-card-image><md-card-title><md-card-title-text><span class=md-subhead>{{recommendation.title}}</span></md-card-title-text></md-card-title></md-card></div></div></section><section><md-subheader class=md-primary>Chopin</md-subheader><div layout=row layout-wrap><a flex=20 ng-repeat="recommendation in $ctrl.recommendations" ui-sref=composition({id:recommendation.id})><md-card><img src=//placehold.it/200x300 class=md-card-image></md-card></a></div></section><div>Recommended (10), 2 rows, 5 compositions in each row</div><div>Featured composer 1</div><div>Featured composer 2</div><div>Continue listening/studying</div><div>Random followed composer 1</div><div>Random followed composer 2</div></div></md-content></div></div>'),o.put("app/layout/lb-footer.html",'<div style="transition:height 1s;overflow:hidden;" ng-style={height:$ctrl.height}><md-button class="md-fab md-mini" ng-click=$ctrl.close() ng-hide="$ctrl.height===\'0\'" style=position:absolute;right:0;><md-icon class=material-icons>close</md-icon></md-button><div id=soundcloud></div></div>'),o.put("app/layout/lb-header.html",'<md-toolbar layout=row layout-align="center center" class=md-whiteframe-z1><md-button hide-gt-sm class=md-icon-button aria-label=Menu ng-click="$ctrl.toggleSidenav(\'left\')"><md-icon class=material-icons>menu</md-icon></md-button><a ui-sref=splash class=brand>LilyBook</a><lb-header-menu></lb-header-menu><md-button hide-sm ui-sref=app.discover>Discover</md-button><md-button hide-sm ui-sref=app.browse>Browse</md-button><md-button hide-sm ui-sref=app.composers>Composers</md-button><span flex></span><md-autocomplete flex=auto hide-md hide-sm md-autofocus=false md-items="item in search(searchText)" md-search-text=searchText md-search-text-change placeholder=Search><md-item-template><span md-highlight-text=searchText md-highlight-flags=^i>{{item.display}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete><md-button hide-gt-md class=md-icon-button aria-label=Search ng-click=todo()><md-icon class=material-icons>search</md-icon></md-button><md-menu ng-if=$ctrl.user><md-button class=md-icon-button ng-click=$mdOpenMenu($event)><md-icon class=material-icons>account_circle</md-icon></md-button><md-menu-content width=3><md-menu-item><md-button ui-sref=home><md-icon class=material-icons>home</md-icon>Home</md-button></md-menu-item><md-menu-item><md-button ui-sref=settings><md-icon class=material-icons>settings</md-icon>Settings</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=$ctrl.logout()><md-icon class=material-icons>exit_to_app</md-icon>Logout</md-button></md-menu-item></md-menu-content></md-menu><md-button ui-sref=login ng-if=!$ctrl.user>Login</md-button></md-toolbar>'),o.put("app/layout/lb-sidenav.html",'<md-sidenav layout=column class="md-sidenav-left md-whiteframe-z2" md-component-id=left><md-toolbar layout=row layout-align="center center" class="md-whiteframe-z1 md-tall"><a ui-sref=splash class=brand>LilyBook</a></md-toolbar><md-content flex><md-list><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Admin</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Browse</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Discover</span></md-list-item><md-list-item ui-sref=admin ng-click=$ctrl.close()><md-icon class=material-icons>help</md-icon><span flex>Composers</span></md-list-item></md-list></md-content><md-toolbar layout=row layout-align="center center"><md-button ui-sref=signup ng-click=$ctrl.close()>Signup</md-button><span flex></span><md-button ui-sref=login ng-click=$ctrl.close()>Login</md-button></md-toolbar></md-sidenav>'),o.put("app/splash/login.html",'<div flex layout=row layout-align="center center"><form name=loginForm class=md-whiteframe-z2 novalidate><h1 class="md-display-1 text-center">Login</h1><md-input-container class=md-block><label>Email</label> <input type=email name=email ng-model=$ctrl.email ng-pattern="/^.+@.+\\..+$/" required><div ng-messages=loginForm.email.$error><div ng-message-exp="[\'required\',\'pattern\']">This field must be an valid email address.</div></div></md-input-container><md-input-container class=md-block><label>Password</label> <input type=password name=password ng-model=$ctrl.password required><div ng-messages=loginForm.password.$error><div ng-message=required>This field is required.</div></div></md-input-container><p class=md-body-2 ng-if=$ctrl.error>{{$ctrl.error.message}}</p><md-input-container class=md-block><md-button type=submit class="md-raised md-primary width-full margin-none" ng-disabled=loginForm.$invalid ng-click=$ctrl.login()>Login</md-button></md-input-container><div layout=row layout-align="center center" layout-padding><a ui-sref=app.splash>Forgot password?</a></div></form></div>'),o.put("app/splash/splash.html",'<div flex layout=column class=splash-container><div flex></div><div layout=row layout-padding layout-margin><md-button flex class="md-raised md-accent" ui-sref=app.signup>Sign Up</md-button><md-button flex class="md-raised md-primary" ui-sref=login>Login</md-button></div></div>'),o.put("app/widgets/dialog-login.html",'<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Login</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=loginForm><md-input-container class=md-block><label>Email</label> <input type=email name=email ng-model=$ctrl.email ng-pattern="/^.+@.+\\..+$/" required><div ng-messages=loginForm.email.$error><div ng-message-exp="[\'required\',\'pattern\']">This field must be an valid email address.</div></div></md-input-container><md-input-container class=md-block><label>Password</label> <input type=password name=password ng-model=$ctrl.password required><div ng-messages=loginForm.password.$error><div ng-message=required>This field is required.</div></div></md-input-container><p class=md-body-2 ng-if=$ctrl.error>{{$ctrl.error.message}}</p><md-input-container class=md-block><md-button type=submit class="md-raised md-primary width-full margin-none" ng-disabled=loginForm.$invalid ng-click=$ctrl.login()>Login</md-button></md-input-container></form></md-dialog-content></md-dialog>'),o.put("app/widgets/widget-header.html",'<div class=widget-head><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>'),o.put("app/admin/composers/admin-composers-dialog.html","<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Composer Editor</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=composerForm><md-input-container class=md-block><label>ID (vanity)</label> <input ng-model=$ctrl.composer.id ng-disabled=!$ctrl.isCreate></md-input-container><md-input-container class=md-block><label>Name</label> <input ng-model=$ctrl.composer.name></md-input-container><md-input-container class=md-block><label>Full Name</label> <input ng-model=$ctrl.composer.fullname></md-input-container><md-input-container class=md-block><label>Image</label> <input ng-model=$ctrl.composer.image> <img ng-src=\"{{ $ctrl.composer.image }}\" style=width:100px;height:100px;></md-input-container><md-input-container class=md-block><label>Bio</label> <textarea ng-model=$ctrl.composer.bio rows=5></textarea></md-input-container></form></md-dialog-content><md-dialog-actions layout=row><span flex></span><md-button class=md-warn ng-click=$ctrl.delete()>Delete</md-button><md-button class=md-primary ng-click=$ctrl.upsert()>{{$ctrl.isCreate ? 'Create': 'Update'}}</md-button><md-button ng-click=$ctrl.close()>Cancel</md-button></md-dialog-actions></md-dialog>"),o.put("app/admin/composers/admin-composers.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Composers</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="composer in $ctrl.composers | filter:{fullname:$ctrl.searchText}" ng-click=$ctrl.gotoComposer(composer)><img alt="{{ composer.name }}" ng-src="{{ composer.image }}" class=md-avatar><p>{{ composer.fullname }}</p><md-icon class=material-icons ng-click="$ctrl.openEditor(composer, $event)">edit</md-icon></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createComposer() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),o.put("app/admin/compositions/admin-compositions-edit.html",'<div flex ng-clock><form class=md-padding name=compositionForm><md-input-container class=md-block><label>Title</label> <input ng-model=$ctrl.composition.title></md-input-container><md-input-container class=md-block><label>Description</label> <textarea ng-model=$ctrl.composition.description rows=5></textarea></md-input-container><md-input-container class=md-block><label>Hero</label> <input ng-model=$ctrl.composition.hero></md-input-container><div layout=row><md-input-container flex><label>Vanity</label> <input ng-model=$ctrl.composition.vanity></md-input-container><md-input-container flex><label>Also Known As</label> <input ng-model=$ctrl.composition.aka></md-input-container></div><div layout=row><md-input-container flex><label>Composer</label><md-select ng-model=$ctrl.composition.composerId><md-option ng-repeat="composer in $ctrl.composers" value={{composer.id}}>{{composer.fullname}}</md-option></md-select></md-input-container><md-input-container flex><label>Key</label><md-select ng-model=$ctrl.composition.key><md-option ng-repeat="key in $ctrl.keys" value={{key.id}}>{{key.name}}</md-option></md-select></md-input-container><md-input-container flex><label>Form</label><md-select ng-model=$ctrl.composition.form><md-option ng-repeat="form in $ctrl.forms" value={{form.id}}>{{form.name}}</md-option></md-select></md-input-container></div><div layout=row><md-input-container flex><label>Catalogue</label> <input ng-model=$ctrl.composition.catalogue></md-input-container><md-input-container flex><label>Work Number</label> <input ng-model=$ctrl.composition.workNumber></md-input-container><md-input-container flex><label>Display Order</label> <input type=number ng-model=$ctrl.composition.order></md-input-container></div><div layout=row><md-input-container flex><label>RCM</label><md-select ng-model=$ctrl.composition.rcm><md-option ng-repeat="rcm in $ctrl.rcms" value={{rcm.id}}>{{rcm.name}}</md-option></md-select></md-input-container><md-input-container flex><label>ABRSM</label><md-select ng-model=$ctrl.composition.abrsm><md-option ng-repeat="abrsm in $ctrl.abrsms" value={{abrsm.id}}>{{abrsm.name}}</md-option></md-select></md-input-container><md-input-container flex><label>Henle</label><md-select ng-model=$ctrl.composition.henle><md-option ng-repeat="henle in $ctrl.henles" value={{henle.id}}>{{henle.name}}</md-option></md-select></md-input-container></div><md-input-container class=md-block><label>Wikipedia</label> <input ng-model=$ctrl.composition.wikipedia></md-input-container><md-input-container class=md-block><label>IMSLP</label> <input ng-model=$ctrl.composition.imslp></md-input-container><md-input-container class=md-block><label>Sheet Music PDF</label> <input ng-model=$ctrl.composition.sheet.pdf></md-input-container><div layout=row><md-input-container flex=25><label>Total Measures</label> <input type=number ng-model=$ctrl.composition.sheet.measures></md-input-container></div><div layout=row><span flex></span><md-button class="md-raised md-primary" ng-click=$ctrl.upsert()>{{$ctrl.action}}</md-button></div></form></div>'),o.put("app/admin/compositions/admin-compositions.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Compositions</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="composition in $ctrl.compositions | filter:{title:$ctrl.searchText}"><p>{{ composition.title }}</p><a ui-sref=admin.compositions-edit({vanity:composition.id})><md-icon class=material-icons>edit</md-icon></a></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createComposition() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),o.put("app/admin/forms/admin-forms-dialog.html","<md-dialog><md-toolbar><div class=md-toolbar-tools><h2>Form Editor</h2><span flex></span><md-button class=md-icon-button ng-click=$ctrl.close()><md-icon class=material-icons>close</md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content><form name=formForm><md-input-container class=md-block><label>ID (vanity)</label> <input ng-model=$ctrl.form.id ng-disabled=!$ctrl.isCreate></md-input-container><md-input-container class=md-block><label>Name</label> <input ng-model=$ctrl.form.name></md-input-container><md-input-container class=md-block><label>Description</label> <textarea ng-model=$ctrl.form.description rows=5></textarea></md-input-container><md-input-container class=md-block><label>Wiki</label> <input ng-model=$ctrl.form.wiki></md-input-container><md-input-container class=md-block><label>Order</label> <input type=number ng-model=$ctrl.form.order></md-input-container></form></md-dialog-content><md-dialog-actions layout=row><span flex></span><md-button class=md-warn ng-click=$ctrl.delete()>Delete</md-button><md-button class=md-primary ng-click=$ctrl.upsert()>{{$ctrl.isCreate ? 'Create': 'Update'}}</md-button><md-button ng-click=$ctrl.close()>Cancel</md-button></md-dialog-actions></md-dialog>"),o.put("app/admin/forms/admin-forms.html",'<div flex><md-card><form class=md-padding><md-input-container class=md-block style=margin-bottom:0;><label>Search Forms</label> <input ng-model=$ctrl.searchText></md-input-container></form></md-card><md-list><md-list-item ng-repeat="form in $ctrl.forms | filter:{name:$ctrl.searchText}"><p>{{ form.name }}</p><md-icon class=material-icons ng-click="$ctrl.openEditor(form, $event)">edit</md-icon></md-list-item></md-list><md-button class=md-fab ng-click=$ctrl.createForm() style=position:fixed;right:40px;bottom:40px;><md-icon class=material-icons>add</md-icon></md-button></div>'),o.put("app/composer/components/composer-card.html",'<div class=hero-card><md-card><img ng-src={{$ctrl.composer.image}} class=md-card-image><md-card-title><md-card-title-text><span class=md-title>{{$ctrl.composer.fullname}}</span></md-card-title-text></md-card-title><md-card-content><p class=md-caption>{{$ctrl.composer.bio}}</p></md-card-content><md-card-actions layout=column layout-align=start><md-button class="md-primary md-raised" ng-click=$ctrl.subscribe()>Subscribe</md-button></md-card-actions></md-card></div>'),o.put("app/composer/components/composer-compositions.html",'<md-list class=md-dense><md-subheader class=md-no-sticky>New Additions</md-subheader><md-list-item ng-repeat="composition in $ctrl.additions"><md-icon class="material-icons md-accent" ng-click=$ctrl.play(composition)>play_circle_filled</md-icon><p><a ui-sref=composition({id:composition.id})>{{composition.title}}</a></p></md-list-item><md-subheader class=md-no-sticky>Most Populars</md-subheader><md-list-item ng-repeat="composition in $ctrl.populars"><md-icon class="material-icons md-accent" ng-click=$ctrl.play(composition)>play_circle_filled</md-icon><p><a ui-sref=composition({id:composition.id})>{{composition.title}}</a></p></md-list-item></md-list>'),o.put("app/composer/components/composer-hero.html",'<div class="hero md-whiteframe-1dp"><lb-composer-card composer=$ctrl.composer></lb-composer-card><lb-composer-subscribe composer=$ctrl.composer></lb-composer-subscribe></div>'),o.put("app/composer/components/composer-subscribe.html",'<md-button class="md-primary md-raised" ng-click=$ctrl.subscribe()><md-icon class=material-icons>subscriptions</md-icon>Subscribe</md-button>'),o.put("app/composition/components/composition-hero.html","<div class=hero><videogular vg-theme=$ctrl.config.theme.url><vg-media vg-src=$ctrl.config.sources vg-youtube=\"showinfo=0\"></vg-media><vg-controls vg-autohide=$ctrl.config.plugins.controls.autoHide vg-autohide-time=$ctrl.config.plugins.controls.autoHideTime><vg-play-pause-button></vg-play-pause-button><vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display><vg-scrub-bar><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><div class=toggle-button><button class=iconButton ng-click=$ctrl.toggle()><md-icon class=material-icons>{{$ctrl.icon}}</md-icon></button></div></vg-controls></videogular></div>"),o.put("app/composition/components/composition-like.html",'<md-button class="md-raised md-primary" ng-click=$ctrl.like()><md-icon class=material-icons>thumb_up</md-icon>Like</md-button>'),o.put("app/composition/components/composition-player.html",'<iframe width=100% scrolling=no frameborder=no src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/71760739"></iframe>'),o.put("app/composition/components/composition-playlist.html",'<div><md-button class="md-raised md-primary" ng-if=!$ctrl.inPlaylist ng-click=$ctrl.add($event)><md-icon class=material-icons>playlist_add</md-icon>Add to Playlist</md-button><md-button class="md-raised md-accent" ng-if=$ctrl.inPlaylist ui-sref=home.playlist><md-icon class=material-icons>playlist_add_check</md-icon>In Playlist</md-button></div>')}]);